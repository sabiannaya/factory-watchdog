import{_ as w}from"./AppLayout.vue_vue_type_script_setup_true_lang-UWREGGXY.js";import{d as B,f,g as x,x as T,B as m,c as h,m as r,u as t,p as q,w as E,a as e,t as n,e as N,b as D,o as _,F as v,i as j}from"./app-i1_2c9TI.js";import{_ as g,P as z}from"./IconActionButton.vue_vue_type_script_setup_true_lang-Cu3IcDcB.js";import{_ as F}from"./Input.vue_vue_type_script_setup_true_lang-mGQONf2a.js";import{_ as L}from"./Spinner.vue_vue_type_script_setup_true_lang-Ca7klY01.js";import{u as I}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B0bB4Y56.js";import{S as U}from"./search-BWjjXBCD.js";import{E as A}from"./eye-zQDYR7PF.js";import{T as H}from"./trash-2-D_kG-H42.js";import"./VisuallyHidden-CgfYLdxu.js";import"./index-C4J_hXM0.js";import"./x-T-BkQ4N0.js";const J={class:"p-4"},K={class:"flex items-center justify-between"},M={class:"text-2xl font-semibold"},O={class:"text-sm text-muted-foreground"},Q={class:"mt-4"},R={class:"relative"},W={class:"mt-4"},X={class:"overflow-x-auto"},Y={class:"w-full table-auto border-collapse"},Z={class:"text-left"},ee={class:"px-3 py-2 text-sm font-medium"},te={class:"px-3 py-2 text-sm font-medium"},ae={class:"px-3 py-2 text-sm font-medium"},se={class:"px-3 py-2 text-sm font-medium"},ne={class:"px-3 py-2 text-sm font-medium"},oe={class:"px-3 py-2 text-sm font-medium"},ce={class:"px-3 py-2 text-sm font-medium"},ie={class:"px-3 py-2 text-sm"},me={class:"px-3 py-2 text-sm"},re={class:"px-3 py-2 text-sm"},le={class:"px-3 py-2 text-sm"},de={class:"px-3 py-2 text-sm"},_e={class:"px-3 py-2 text-sm"},pe={class:"px-3 py-2 text-sm"},ue={class:"flex items-center gap-4"},he={class:"mt-4 flex items-center justify-end gap-2"},ge=["disabled"],fe=["disabled"],Be=B({__name:"Index",props:{machineGroups:{},meta:{}},setup(b){const{t:a}=I(),y=f(()=>[{title:a("data_management.data_management"),href:"/data-management/production"},{title:a("data_management.machines"),href:"/data-management/machine"}]),l=x(!1),o=b,k=f(()=>o.machineGroups?.data??[]),d=x(o.meta?.q??"");let p;const C=()=>{const c=o.machineGroups?.next_cursor;if(!c)return;const i=o.meta?.per_page??10,s=o.meta?.sort??"name",u=o.meta?.direction??"asc";m.get(window.location.pathname,{cursor:c,q:d.value||null,per_page:i,sort:s,direction:u},{preserveState:!0,replace:!0})},S=c=>{m.get(`/data-management/machine/${c}`)},$=c=>{m.get(`/data-management/machine/${c}/edit`)},G=c=>{window.confirm(a("data_management.confirm_delete_machine"))&&m.visit(`/data-management/machine/${c}`,{method:"delete",preserveState:!1})},P=()=>{const c=o.machineGroups?.prev_cursor;if(!c)return;const i=o.meta?.per_page??10,s=o.meta?.sort??"name",u=o.meta?.direction??"asc";m.get(window.location.pathname,{cursor:c,q:d.value||null,per_page:i,sort:s,direction:u},{preserveState:!0,replace:!0})},V=()=>{const c=o.meta?.per_page??10,i=o.meta?.sort??"name",s=o.meta?.direction??"asc";m.get(window.location.pathname,{q:d.value||null,per_page:c,sort:i,direction:s},{preserveState:!0,replace:!0})};return T(d,()=>{p&&clearTimeout(p),p=setTimeout(V,800)}),m.on("start",()=>l.value=!0),m.on("finish",()=>l.value=!1),(c,i)=>(_(),h(v,null,[r(t(q),{title:t(a)("data_management.machines")},null,8,["title"]),r(w,{breadcrumbs:y.value},{default:E(()=>[e("div",J,[e("div",K,[e("div",null,[e("h2",M,n(t(a)("data_management.machines")),1),e("p",O,n(t(a)("data_management.manage_machines")),1)]),e("button",{class:"hover:cursor-pointer btn",onClick:i[0]||(i[0]=s=>t(m).get("/data-management/machine/create"))},n(t(a)("data_management.create_machine")),1)]),e("div",Q,[e("div",R,[r(t(U),{class:"absolute left-2 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),r(t(F),{modelValue:d.value,"onUpdate:modelValue":i[1]||(i[1]=s=>d.value=s),disabled:l.value,type:"search",placeholder:t(a)("data_management.search_placeholder"),class:"pl-8"},null,8,["modelValue","disabled","placeholder"]),l.value?(_(),N(t(L),{key:0,class:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground"})):D("",!0)])]),e("div",W,[e("div",X,[e("table",Y,[e("thead",null,[e("tr",Z,[e("th",ee,n(t(a)("data_management.id")),1),e("th",te,n(t(a)("data_management.name")),1),e("th",ae,n(t(a)("data_management.total")),1),e("th",se,n(t(a)("data_management.active")),1),e("th",ne,n(t(a)("data_management.inactive")),1),e("th",oe,n(t(a)("data_management.created")),1),e("th",ce,n(t(a)("data_management.actions")),1)])]),e("tbody",null,[(_(!0),h(v,null,j(k.value,s=>(_(),h("tr",{key:s.machine_group_id,class:"border-t"},[e("td",ie,n(s.machine_group_id),1),e("td",me,n(s.name),1),e("td",re,n(s.total_machines??0),1),e("td",le,n(s.active_machines??0),1),e("td",de,n(s.inactive_machines??0),1),e("td",_e,n(s.created_at),1),e("td",pe,[e("div",ue,[r(g,{icon:t(A),label:t(a)("data_management.detail"),color:"blue",onClick:()=>S(s.machine_group_id)},null,8,["icon","label","onClick"]),r(g,{icon:t(z),label:t(a)("data_management.edit"),color:"amber",onClick:()=>$(s.machine_group_id)},null,8,["icon","label","onClick"]),r(g,{icon:t(H),label:t(a)("data_management.delete"),color:"red",onClick:()=>G(s.machine_group_id)},null,8,["icon","label","onClick"])])])]))),128))])])]),e("div",he,[e("button",{class:"hover:cursor-pointer btn",disabled:!o.machineGroups?.prev_cursor||l.value,onClick:P},n(t(a)("data_management.previous")),9,ge),e("button",{class:"hover:cursor-pointer btn",disabled:!o.machineGroups?.next_cursor||l.value,onClick:C},n(t(a)("data_management.next")),9,fe)])])])]),_:1},8,["breadcrumbs"])],64))}});export{Be as default};
