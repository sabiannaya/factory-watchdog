import{_ as T}from"./AppLayout.vue_vue_type_script_setup_true_lang-bEXc6-g0.js";import{d as x,K as S,e as w,c as o,E,b as U,F as v,h as k,a as u,u as r,H as b,t as h,I as f,M as $,aj as M,o as s,k as _,l as C,m as D,J as F}from"./app-DE6ow1Ix.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Bir4mPS3.js";import"./index-D65DViVt.js";import"./VisuallyHidden-CBitG6WX.js";import"./useForwardExpose-e7sykY-9.js";import"./useForwardPropsEmits-BPFUmVRI.js";import"./index-C4J_hXM0.js";import"./createLucideIcon-CIZlwMSZ.js";const N={class:"text-sm font-medium text-muted-foreground"},B=["onUpdate:modelValue","disabled"],q=["onUpdate:modelValue","disabled"],I=["value"],L=["onUpdate:modelValue","disabled"],R=["type","onUpdate:modelValue","disabled"],j={key:0,class:"flex items-center gap-3"},A=x({__name:"ResourceForm",props:{fields:{},initial:{},action:{},method:{},mode:{}},emits:["submitted"],setup(p,{emit:m}){const n=p,c=m,g=n.mode??"edit",y={};n.fields.forEach(i=>{y[i.key]=n.initial&&n.initial[i.key]!==void 0?n.initial[i.key]:i.type==="number"?null:""});const t=S({...y}),l=w(()=>g==="show");function V(){const i=(n.method??"post").toLowerCase();i==="post"?t.post(n.action,{preserveState:!1,onSuccess:d=>c("submitted",d)}):(i==="put"||i==="patch")&&t.put(n.action,{preserveState:!1,onSuccess:d=>c("submitted",d)})}return(i,d)=>(s(),o("form",{onSubmit:E(V,["prevent"]),class:"space-y-4"},[(s(!0),o(v,null,k(p.fields,e=>(s(),o("div",{key:e.key,class:"grid gap-1"},[u("label",N,h(e.label),1),e.type==="textarea"?b((s(),o("textarea",{key:0,"onUpdate:modelValue":a=>r(t)[e.key]=a,disabled:l.value,class:"input min-h-[80px]"},null,8,B)),[[f,r(t)[e.key]]]):e.type==="select"?b((s(),o("select",{key:1,"onUpdate:modelValue":a=>r(t)[e.key]=a,disabled:l.value,"aria-label":"{{ field.label }}",class:"appearance-none rounded-md border bg-popover text-popover-foreground px-3 py-2 pr-10 text-sm shadow-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[(s(!0),o(v,null,k(e.options??[],a=>(s(),o("option",{key:a.value,value:a.value},h(a.label),9,I))),128))],8,q)),[[$,r(t)[e.key]]]):e.type==="date"?b((s(),o("input",{key:2,type:"date","onUpdate:modelValue":a=>r(t)[e.key]=a,disabled:l.value,class:"input"},null,8,L)),[[f,r(t)[e.key]]]):b((s(),o("input",{key:3,type:e.type??"text","onUpdate:modelValue":a=>r(t)[e.key]=a,disabled:l.value,class:"input"},null,8,R)),[[M,r(t)[e.key]]])]))),128)),l.value?U("",!0):(s(),o("div",j,[d[1]||(d[1]=u("button",{type:"submit",class:"btn cursor-pointer"},"Save",-1)),u("button",{type:"button",class:"btn btn-ghost",onClick:d[0]||(d[0]=e=>r(t).reset())},"Reset")]))],32))}}),H={class:"p-4"},J={class:"rounded-xl border border-sidebar-border/70 p-6"},K={class:"mt-4"},z="put",te=x({__name:"TargetEdit",props:{dailyTarget:{}},setup(p){const m=p,n=[{title:"Data Management",href:"/data-management/production"},{title:"Target",href:"/data-management/target"},{title:m.dailyTarget?.date??"Edit",href:window.location.pathname}],c=[{key:"date",label:"Date",type:"date",required:!0},{key:"target_value",label:"Target Value",type:"number",required:!0},{key:"actual_value",label:"Actual Value",type:"number"},{key:"notes",label:"Notes",type:"textarea"}],g=`/data-management/target/${m.dailyTarget.daily_target_id}`,y=()=>{F.get("/data-management/target")};return(t,l)=>(s(),o(v,null,[_(r(C),{title:`Edit Target â€” ${m.dailyTarget.date}`},null,8,["title"]),_(T,{breadcrumbs:n},{default:D(()=>[u("div",H,[u("div",J,[l[0]||(l[0]=u("h2",{class:"text-lg font-semibold"},"Edit Target",-1)),l[1]||(l[1]=u("p",{class:"mt-2 text-sm text-muted-foreground"},"Edit daily target",-1)),u("div",K,[_(A,{fields:c,initial:m.dailyTarget,action:g,method:z,mode:"edit",onSubmitted:y},null,8,["initial"])])])])]),_:1})],64))}});export{te as default};
