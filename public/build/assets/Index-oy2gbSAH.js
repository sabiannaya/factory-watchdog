import{_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-BSta2Xg1.js";import{d as P,g as f,f as w,x as M,B as n,c as _,m as i,u as r,p as N,w as T,a as e,e as V,b as B,o as d,F as x,i as E,t as m}from"./app-BRuhaguS.js";import{_ as h,P as q}from"./IconActionButton.vue_vue_type_script_setup_true_lang-DuEfKw9g.js";import{_ as A}from"./Input.vue_vue_type_script_setup_true_lang-Bolxw2JV.js";import{_ as I}from"./Spinner.vue_vue_type_script_setup_true_lang-BLCXa5KB.js";import{S as j}from"./search-DqEYQ3zn.js";import{E as F}from"./eye-DwXBrb9R.js";import{T as z}from"./trash-2-D_TNeSzz.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DrUmFdxY.js";import"./Presence-CRPloLVK.js";import"./createLucideIcon-Bc86gjbu.js";import"./useForwardPropsEmits-CxMGla6T.js";import"./x-Dz_x2_zF.js";import"./VisuallyHidden-gDrgz296.js";import"./index-C4J_hXM0.js";const L={class:"p-4"},U={class:"flex items-center justify-between"},H={class:"mt-4"},J={class:"relative"},K={class:"mt-4"},O={class:"overflow-x-auto"},Q={class:"w-full table-auto border-collapse"},R={class:"px-3 py-2 text-sm"},W={class:"px-3 py-2 text-sm"},X={class:"px-3 py-2 text-sm"},Y={class:"px-3 py-2 text-sm"},Z={class:"px-3 py-2 text-sm"},ee={class:"px-3 py-2 text-sm"},te={class:"px-3 py-2 text-sm"},ae={class:"flex items-center gap-4"},se={class:"mt-4 flex items-center justify-end gap-2"},oe=["disabled"],ne=["disabled"],ye=P({__name:"Index",props:{machineGroups:{},meta:{}},setup(g){const v=[{title:"Data Management",href:"/data-management/production"},{title:"Machines",href:"/data-management/machine"}],c=f(!1),a=g,b=w(()=>a.machineGroups?.data??[]),l=f(a.meta?.q??"");let p;const y=()=>{const s=a.machineGroups?.next_cursor;if(!s)return;const o=a.meta?.per_page??10,t=a.meta?.sort??"name",u=a.meta?.direction??"asc";n.get(window.location.pathname,{cursor:s,q:l.value||null,per_page:o,sort:t,direction:u},{preserveState:!0,replace:!0})},k=s=>{n.get(`/data-management/machine/${s}`)},C=s=>{n.get(`/data-management/machine/${s}/edit`)},S=s=>{window.confirm("Are you sure you want to delete this machine group?")&&n.visit(`/data-management/machine/${s}`,{method:"delete",preserveState:!1})},$=()=>{const s=a.machineGroups?.prev_cursor;if(!s)return;const o=a.meta?.per_page??10,t=a.meta?.sort??"name",u=a.meta?.direction??"asc";n.get(window.location.pathname,{cursor:s,q:l.value||null,per_page:o,sort:t,direction:u},{preserveState:!0,replace:!0})},D=()=>{const s=a.meta?.per_page??10,o=a.meta?.sort??"name",t=a.meta?.direction??"asc";n.get(window.location.pathname,{q:l.value||null,per_page:s,sort:o,direction:t},{preserveState:!0,replace:!0})};return M(l,()=>{p&&clearTimeout(p),p=setTimeout(D,800)}),n.on("start",()=>c.value=!0),n.on("finish",()=>c.value=!1),(s,o)=>(d(),_(x,null,[i(r(N),{title:"Machine"}),i(G,{breadcrumbs:v},{default:T(()=>[e("div",L,[e("div",U,[o[2]||(o[2]=e("div",null,[e("h2",{class:"text-2xl font-semibold"},"Machine"),e("p",{class:"text-sm text-muted-foreground"},"Manage machine groups")],-1)),e("button",{class:"hover:cursor-pointer btn",onClick:o[0]||(o[0]=t=>r(n).get("/data-management/machine/create"))}," Create Machine Group ")]),e("div",H,[e("div",J,[i(r(j),{class:"absolute left-2 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),i(r(A),{modelValue:l.value,"onUpdate:modelValue":o[1]||(o[1]=t=>l.value=t),disabled:c.value,type:"search",placeholder:"Search machine groups...",class:"pl-8"},null,8,["modelValue","disabled"]),c.value?(d(),V(r(I),{key:0,class:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground"})):B("",!0)])]),e("div",K,[e("div",O,[e("table",Q,[o[3]||(o[3]=e("thead",null,[e("tr",{class:"text-left"},[e("th",{class:"px-3 py-2 text-sm font-medium"},"ID"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Name"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Total"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Active"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Inactive"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Created"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Actions")])],-1)),e("tbody",null,[(d(!0),_(x,null,E(b.value,t=>(d(),_("tr",{key:t.machine_group_id,class:"border-t"},[e("td",R,m(t.machine_group_id),1),e("td",W,m(t.name),1),e("td",X,m(t.total_machines??0),1),e("td",Y,m(t.active_machines??0),1),e("td",Z,m(t.inactive_machines??0),1),e("td",ee,m(t.created_at),1),e("td",te,[e("div",ae,[i(h,{icon:r(F),label:"Detail",color:"blue",onClick:()=>k(t.machine_group_id)},null,8,["icon","onClick"]),i(h,{icon:r(q),label:"Edit",color:"amber",onClick:()=>C(t.machine_group_id)},null,8,["icon","onClick"]),i(h,{icon:r(z),label:"Delete",color:"red",onClick:()=>S(t.machine_group_id)},null,8,["icon","onClick"])])])]))),128))])])]),e("div",se,[e("button",{class:"hover:cursor-pointer btn",disabled:!a.machineGroups?.prev_cursor||c.value,onClick:$},"Previous",8,oe),e("button",{class:"hover:cursor-pointer btn",disabled:!a.machineGroups?.next_cursor||c.value,onClick:y},"Next",8,ne)])])])]),_:1})],64))}});export{ye as default};
