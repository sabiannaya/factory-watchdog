import{d as g,v as h,g as _,l as b,c as v,m as r,u as o,p as G,w as y,a as n,y as w,t as x,B as p,F as C,o as E}from"./app-D4NX6RtZ.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-CNNNqqjX.js";import{_ as S,a as $}from"./InputConfigEditor.vue_vue_type_script_setup_true_lang-rLGLLG-M.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BzC2dvNG.js";import"./Presence-CsGVf8pY.js";import"./createLucideIcon-A0T1vukc.js";import"./useForwardPropsEmits-BmzqlngZ.js";import"./x-XD7JAbQb.js";import"./VisuallyHidden-BeURpiPp.js";import"./index-C4J_hXM0.js";const V={class:"p-4"},B={class:"rounded-xl border border-sidebar-border/70 p-6"},k={class:"flex items-center gap-3"},F=["disabled"],K=g({__name:"Edit",props:{machineGroup:{}},setup(c){const e=c,d=[{title:"Data Management",href:"/data-management/production"},{title:"Machine",href:"/data-management/machine"},{title:e.machineGroup?.name??"Edit",href:window.location.pathname}],m={type:"qty_only",fields:["qty"],grade_types:[]},a=h({name:e.machineGroup.name,description:e.machineGroup.description||"",input_config:e.machineGroup.input_config||m}),i=_(e.machineGroup.input_config||m);b(()=>{e.machineGroup.input_config&&(i.value=e.machineGroup.input_config,a.input_config=e.machineGroup.input_config)});function l(s){i.value=s,a.input_config=s}function f(){a.put(`/data-management/machine/${e.machineGroup.machine_group_id}`,{preserveState:!1,onSuccess:()=>{p.get("/data-management/machine")}})}return(s,t)=>(E(),v(C,null,[r(o(G),{title:`Edit Machine Group â€” ${e.machineGroup.name}`},null,8,["title"]),r(M,{breadcrumbs:d},{default:y(()=>[n("div",V,[n("div",B,[t[2]||(t[2]=n("h2",{class:"text-lg font-semibold"},"Edit Machine Group",-1)),t[3]||(t[3]=n("p",{class:"mt-2 text-sm text-muted-foreground"},"Edit machine group details and input configuration",-1)),n("form",{onSubmit:w(f,["prevent"]),class:"mt-6 space-y-6"},[r(S,{form:o(a)},null,8,["form"]),r($,{modelValue:i.value,"onUpdate:modelValue":[t[0]||(t[0]=u=>i.value=u),l],"show-preview":!0,"show-errors":!0,"error-message":o(a).errors.input_config},null,8,["modelValue","error-message"]),n("div",k,[n("button",{type:"submit",class:"hover:cursor-pointer btn",disabled:o(a).processing},x(o(a).processing?"Saving...":"Save Changes"),9,F),n("button",{type:"button",class:"btn btn-ghost",onClick:t[1]||(t[1]=u=>o(p).get("/data-management/machine"))}," Cancel ")])],32)])])]),_:1})],64))}});export{K as default};
