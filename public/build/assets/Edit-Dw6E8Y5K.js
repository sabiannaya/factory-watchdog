import{d as U,r as x,e as C,c as p,k as u,u as T,l as h,m as r,a as t,H as m,b as f,q as a,n as y,I as v,o as c,t as n,F as N,J as E}from"./app-DE6ow1Ix.js";import{_ as S}from"./AppLayout.vue_vue_type_script_setup_true_lang-bEXc6-g0.js";import{_ as w,a as j,b as D,c as B,d as F,e as G,f as O}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-CLSnltDb.js";import{_ as Q,u as A}from"./ToastNotifications.vue_vue_type_script_setup_true_lang-DLb4duLt.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Bir4mPS3.js";import"./index-D65DViVt.js";import"./VisuallyHidden-CBitG6WX.js";import"./useForwardExpose-e7sykY-9.js";import"./useForwardPropsEmits-BPFUmVRI.js";import"./index-C4J_hXM0.js";import"./createLucideIcon-CIZlwMSZ.js";const M={class:"p-4"},z={class:"rounded-xl border border-sidebar-border/70 p-6"},H={class:"mt-4"},I={class:"grid grid-cols-2 gap-4"},J={class:"block"},K={key:0,class:"mt-1 text-xs text-red-500"},L={class:"block"},R={key:0,class:"mt-1 text-xs text-red-500"},W={class:"block"},X={key:0,class:"mt-1 text-xs text-red-500"},Y={class:"block"},Z={key:0,class:"mt-1 text-xs text-red-500"},ee={class:"block"},te={key:0,class:"mt-1 text-xs text-red-500"},se={class:"block col-span-2"},le={class:"mt-4 flex justify-end"},ae=["disabled"],oe={class:"rounded-lg bg-muted/50 p-3"},ue={class:"space-y-1 text-sm"},ne={class:"flex justify-end gap-2"},_e=U({__name:"Edit",props:{product:{}},setup(g){const d=g,{success:k}=A(),q=[{title:"Data Management",href:"/data-management/production"},{title:"Products",href:"/data-management/products"},{title:"Edit",href:`/data-management/products/${d.product.id}/edit`}],s=x({id:d.product.id,name:d.product.name,thickness:d.product.thickness||"",ply:d.product.ply||"",glue_type:d.product.glue_type||"",qty:d.product.qty,notes:d.product.notes||""}),l=x({}),b=x(!1),_=x(!1),$=()=>{l.value={};const i={};return s.value.name?.trim()||(i.name="Name is required"),s.value.thickness?.trim()||(i.thickness="Thickness is required"),s.value.ply?.trim()||(i.ply="Ply is required"),s.value.glue_type?.trim()||(i.glue_type="Glue Type is required"),(!s.value.qty||s.value.qty<0)&&(i.qty="Qty must be a valid number"),l.value=i,Object.keys(i).length===0};C(()=>Object.keys(l.value).length>0);const V=()=>{$()&&(_.value=!0)},P=()=>{b.value=!0,E.put(`/data-management/products/${s.value.id}`,s.value,{onSuccess:()=>{k("Product updated",`${s.value.name} has been updated successfully`)},onFinish:()=>b.value=!1})};return(i,e)=>(c(),p(N,null,[u(T(h),{title:`Edit Product - ${d.product.name}`},null,8,["title"]),u(S,{breadcrumbs:q},{default:r(()=>[t("div",M,[t("div",z,[e[13]||(e[13]=t("h2",{class:"text-lg font-semibold"},"Edit Product",-1)),e[14]||(e[14]=t("p",{class:"mt-2 text-sm text-muted-foreground"},"Update product details.",-1)),t("div",H,[t("div",I,[t("label",J,[e[7]||(e[7]=t("div",{class:"text-sm font-medium"},[a("Name "),t("span",{class:"text-red-500"},"*")],-1)),m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.value.name=o),type:"text",placeholder:"Enter product name",class:y(["input",{"border-red-500":l.value.name}])},null,2),[[v,s.value.name]]),l.value.name?(c(),p("p",K,n(l.value.name),1)):f("",!0)]),t("label",L,[e[8]||(e[8]=t("div",{class:"text-sm font-medium"},[a("Thickness "),t("span",{class:"text-red-500"},"*")],-1)),m(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.value.thickness=o),type:"text",placeholder:"e.g., 3mm",class:y(["input",{"border-red-500":l.value.thickness}])},null,2),[[v,s.value.thickness]]),l.value.thickness?(c(),p("p",R,n(l.value.thickness),1)):f("",!0)]),t("label",W,[e[9]||(e[9]=t("div",{class:"text-sm font-medium"},[a("Ply "),t("span",{class:"text-red-500"},"*")],-1)),m(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.value.ply=o),type:"text",placeholder:"e.g., 2",class:y(["input",{"border-red-500":l.value.ply}])},null,2),[[v,s.value.ply]]),l.value.ply?(c(),p("p",X,n(l.value.ply),1)):f("",!0)]),t("label",Y,[e[10]||(e[10]=t("div",{class:"text-sm font-medium"},[a("Glue Type "),t("span",{class:"text-red-500"},"*")],-1)),m(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>s.value.glue_type=o),type:"text",placeholder:"e.g., PVA, PU",class:y(["input",{"border-red-500":l.value.glue_type}])},null,2),[[v,s.value.glue_type]]),l.value.glue_type?(c(),p("p",Z,n(l.value.glue_type),1)):f("",!0)]),t("label",ee,[e[11]||(e[11]=t("div",{class:"text-sm font-medium"},[a("Qty "),t("span",{class:"text-red-500"},"*")],-1)),m(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>s.value.qty=o),type:"number",placeholder:"0",class:y(["input",{"border-red-500":l.value.qty}])},null,2),[[v,s.value.qty,void 0,{number:!0}]]),l.value.qty?(c(),p("p",te,n(l.value.qty),1)):f("",!0)]),t("label",se,[e[12]||(e[12]=t("div",{class:"text-sm font-medium"},"Notes",-1)),m(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=o=>s.value.notes=o),placeholder:"Optional notes about this product",class:"input"},null,512),[[v,s.value.notes]])])]),t("div",le,[t("button",{class:"btn hover:cursor-pointer",disabled:b.value,onClick:V},"Save",8,ae)])])])]),u(w,{open:_.value,"onUpdate:open":e[6]||(e[6]=o=>_.value=o)},{default:r(()=>[u(j,null,{default:r(()=>[u(D,null,{default:r(()=>[u(B,null,{default:r(()=>[...e[15]||(e[15]=[a("Confirm Update Product",-1)])]),_:1}),u(F,null,{default:r(()=>[...e[16]||(e[16]=[a(" Are you sure you want to update this product? ",-1)])]),_:1})]),_:1}),t("div",oe,[t("div",ue,[t("div",null,[e[17]||(e[17]=t("span",{class:"font-medium"},"Name:",-1)),a(" "+n(s.value.name),1)]),t("div",null,[e[18]||(e[18]=t("span",{class:"font-medium"},"Thickness:",-1)),a(" "+n(s.value.thickness),1)]),t("div",null,[e[19]||(e[19]=t("span",{class:"font-medium"},"Ply:",-1)),a(" "+n(s.value.ply),1)]),t("div",null,[e[20]||(e[20]=t("span",{class:"font-medium"},"Glue Type:",-1)),a(" "+n(s.value.glue_type),1)]),t("div",null,[e[21]||(e[21]=t("span",{class:"font-medium"},"Qty:",-1)),a(" "+n(s.value.qty),1)])])]),t("div",ne,[u(G,null,{default:r(()=>[...e[22]||(e[22]=[a("Cancel",-1)])]),_:1}),u(O,{onClick:P,disabled:b.value},{default:r(()=>[...e[23]||(e[23]=[a("Save",-1)])]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["open"]),u(Q)]),_:1})],64))}});export{_e as default};
