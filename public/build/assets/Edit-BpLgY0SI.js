import{d as g,K as h,r as _,j as b,c as v,k as r,u as o,l as G,m as y,a as n,E as x,t as C,J as p,F as w,o as E}from"./app-ue20rSb4.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-C_szTgFs.js";import{_ as S,a as $}from"./InputConfigEditor.vue_vue_type_script_setup_true_lang-BRYg94AU.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-C7b_Quob.js";import"./index-Cl--hQqE.js";import"./VisuallyHidden-DjuZqZTT.js";import"./useForwardExpose-BCEiolqJ.js";import"./useForwardPropsEmits-BgPdB8_u.js";import"./index-C4J_hXM0.js";import"./createLucideIcon-COama0qN.js";const V={class:"p-4"},k={class:"rounded-xl border border-sidebar-border/70 p-6"},B={class:"flex items-center gap-3"},F=["disabled"],H=g({__name:"Edit",props:{machineGroup:{}},setup(c){const e=c,d=[{title:"Data Management",href:"/data-management/production"},{title:"Machine",href:"/data-management/machine"},{title:e.machineGroup?.name??"Edit",href:window.location.pathname}],m={type:"qty_only",fields:["qty"],grade_types:[]},a=h({name:e.machineGroup.name,description:e.machineGroup.description||"",input_config:e.machineGroup.input_config||m}),i=_(e.machineGroup.input_config||m);b(()=>{e.machineGroup.input_config&&(i.value=e.machineGroup.input_config,a.input_config=e.machineGroup.input_config)});function l(s){i.value=s,a.input_config=s}function f(){a.put(`/data-management/machine/${e.machineGroup.machine_group_id}`,{preserveState:!1,onSuccess:()=>{p.get("/data-management/machine")}})}return(s,t)=>(E(),v(w,null,[r(o(G),{title:`Edit Machine Group â€” ${e.machineGroup.name}`},null,8,["title"]),r(M,{breadcrumbs:d},{default:y(()=>[n("div",V,[n("div",k,[t[2]||(t[2]=n("h2",{class:"text-lg font-semibold"},"Edit Machine Group",-1)),t[3]||(t[3]=n("p",{class:"mt-2 text-sm text-muted-foreground"},"Edit machine group details and input configuration",-1)),n("form",{onSubmit:x(f,["prevent"]),class:"mt-6 space-y-6"},[r(S,{form:o(a)},null,8,["form"]),r($,{modelValue:i.value,"onUpdate:modelValue":[t[0]||(t[0]=u=>i.value=u),l],"show-preview":!0,"show-errors":!0,"error-message":o(a).errors.input_config},null,8,["modelValue","error-message"]),n("div",B,[n("button",{type:"submit",class:"btn cursor-pointer",disabled:o(a).processing},C(o(a).processing?"Saving...":"Save Changes"),9,F),n("button",{type:"button",class:"btn btn-ghost",onClick:t[1]||(t[1]=u=>o(p).get("/data-management/machine"))}," Cancel ")])],32)])])]),_:1})],64))}});export{H as default};
