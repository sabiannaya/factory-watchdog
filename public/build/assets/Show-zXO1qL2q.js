import{_ as C}from"./AppLayout.vue_vue_type_script_setup_true_lang-CNNNqqjX.js";import{d as j,f as y,c as d,b as c,a as t,F as m,i as p,t as o,z as v,N as $,o as s,m as f,u as _,p as D,w as T,q as w,B as h,e as q}from"./app-D4NX6RtZ.js";import{_ as k,P as N}from"./IconActionButton.vue_vue_type_script_setup_true_lang-DJGF6nNE.js";import{_ as z}from"./InputConfigDisplay.vue_vue_type_script_setup_true_lang-CUxgzaHp.js";import{A as B}from"./arrow-left-DwNerW1d.js";import{T as P}from"./trash-2-BIBKvKRy.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BzC2dvNG.js";import"./Presence-CsGVf8pY.js";import"./createLucideIcon-A0T1vukc.js";import"./useForwardPropsEmits-BmzqlngZ.js";import"./x-XD7JAbQb.js";import"./VisuallyHidden-BeURpiPp.js";import"./index-C4J_hXM0.js";const S={class:"space-y-4"},M={key:0,class:"space-y-3"},O={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},A={class:"text-sm capitalize"},F={class:"text-sm font-medium"},G={class:"text-sm capitalize"},V={class:"text-sm font-medium"},E={key:1,class:"flex items-center justify-between p-2 rounded-md bg-muted/20 dark:bg-muted/20"},L={class:"text-sm font-medium"},I={key:1,class:"space-y-4"},U={class:"flex items-center justify-between mb-2"},H={class:"text-sm font-medium"},J={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},K={class:"text-sm capitalize"},Q={class:"text-sm font-medium"},R={class:"text-sm capitalize"},W={class:"text-sm font-medium"},X={key:1,class:"flex items-center justify-between p-2 rounded-md bg-muted/10 dark:bg-muted/10"},Y={class:"text-sm font-medium"},Z={key:2,class:"text-sm text-muted-foreground dark:text-muted-foreground italic"},tt=j({__name:"TargetDisplay",props:{inputConfig:{default:null},defaultTargets:{default:()=>({})},perDateTargets:{default:()=>({})}},setup(r){const a=r,b=y(()=>{let i=a.inputConfig?.fields??[];return i.length||(i=["qty_normal","qty_reject"]),i.includes("qty")&&(i=i.filter(n=>n!=="qty"),i.includes("qty_normal")||i.push("qty_normal"),i.includes("qty_reject")||i.push("qty_reject")),i.filter(n=>n!=="keterangan")}),g=y(()=>a.inputConfig?.grade_types||[]);function x(i){return i.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())}return(i,n)=>(s(),d("div",S,[Object.keys(r.defaultTargets??{}).length>0||Object.keys(r.perDateTargets??{}).length===0?(s(),d("div",M,[n[1]||(n[1]=t("h5",{class:"text-sm font-medium text-muted-foreground dark:text-muted-foreground"},"Default Targets",-1)),t("div",O,[(s(!0),d(m,null,p(b.value,e=>v((s(),d("div",{key:e,class:"flex items-center justify-between p-2 rounded-md bg-muted/20 dark:bg-muted/20"},[t("span",A,o(x(e)),1),t("span",F,o((r.defaultTargets??{})[e]??"-"),1)])),[[$,e!=="grades"&&e!=="grade"]])),128)),(r.inputConfig?.fields??[]).includes("grades")&&g.value.length>0?(s(!0),d(m,{key:0},p(g.value,e=>(s(),d("div",{key:e,class:"flex items-center justify-between p-2 rounded-md bg-muted/20 dark:bg-muted/20"},[t("span",G,o(e),1),t("span",V,o((r.defaultTargets??{})[`grade_${e}`]??"-"),1)]))),128)):c("",!0),(r.inputConfig?.fields??[]).includes("grade")&&!(r.inputConfig?.fields??[]).includes("grades")?(s(),d("div",E,[n[0]||(n[0]=t("span",{class:"text-sm"},"Grade",-1)),t("span",L,o((r.defaultTargets??{}).grade??"-"),1)])):c("",!0)])])):c("",!0),Object.keys(r.perDateTargets??{}).length>0?(s(),d("div",I,[n[4]||(n[4]=t("h5",{class:"text-sm font-medium text-muted-foreground dark:text-muted-foreground"},"Per-Date Targets",-1)),(s(!0),d(m,null,p(r.perDateTargets,(e,u)=>(s(),d("div",{key:u,class:"space-y-3 p-3 rounded-md border border-sidebar-border/70 dark:border-sidebar-border/70"},[t("div",U,[t("span",H,o(u),1),n[2]||(n[2]=t("span",{class:"text-xs px-2 py-0.5 rounded-full bg-emerald-600/20 text-emerald-700 dark:text-emerald-400"}," Per-date ",-1))]),t("div",J,[(s(!0),d(m,null,p(b.value,l=>v((s(),d("div",{key:l,class:"flex items-center justify-between p-2 rounded-md bg-muted/10 dark:bg-muted/10"},[t("span",K,o(x(l)),1),t("span",Q,o(e[l]??"-"),1)])),[[$,l!=="grades"&&l!=="grade"]])),128)),r.inputConfig?.fields?.includes("grades")&&g.value.length>0?(s(!0),d(m,{key:0},p(g.value,l=>(s(),d("div",{key:l,class:"flex items-center justify-between p-2 rounded-md bg-muted/10 dark:bg-muted/10"},[t("span",R,o(l),1),t("span",W,o(e[`grade_${l}`]??"-"),1)]))),128)):c("",!0),r.inputConfig?.fields?.includes("grade")&&!r.inputConfig?.fields?.includes("grades")?(s(),d("div",X,[n[3]||(n[3]=t("span",{class:"text-sm"},"Grade",-1)),t("span",Y,o(e.grade??"-"),1)])):c("",!0)])]))),128))])):c("",!0),Object.keys(r.defaultTargets).length===0&&Object.keys(r.perDateTargets).length===0?(s(),d("div",Z," No targets set ")):c("",!0)]))}}),et={class:"p-4"},st={class:"flex items-start justify-between gap-4 mb-6"},dt={class:"text-xl font-semibold"},ot={class:"mt-1 text-sm text-muted-foreground dark:text-muted-foreground"},rt={class:"capitalize"},nt={class:"mt-2 text-sm text-muted-foreground dark:text-muted-foreground"},at={class:"flex items-center gap-2"},it={class:"mt-6 rounded-xl border border-sidebar-border/70 dark:border-sidebar-border/70 bg-card dark:bg-card p-6"},ut={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm"},lt={class:"ml-2 font-medium"},ct={class:"ml-2 font-medium"},mt={class:"ml-2 font-medium capitalize"},gt={class:"mt-6 rounded-xl border border-sidebar-border/70 dark:border-sidebar-border/70 bg-card dark:bg-card p-6"},ft={key:0,class:"text-sm text-muted-foreground dark:text-muted-foreground py-8 text-center"},pt={key:1,class:"space-y-6"},bt={class:"mb-4"},xt={class:"flex items-start justify-between mb-2"},_t={class:"text-base font-semibold"},ht={class:"text-sm text-muted-foreground dark:text-muted-foreground mt-1"},kt={class:"text-right"},yt={class:"text-base font-medium"},Mt=j({__name:"Show",props:{production:{}},setup(r){const a=r,b=[{title:"Data Management",href:"/data-management/production"},{title:"Production",href:"/data-management/production"},{title:a.production?.production_name??"Show",href:window.location.pathname}],g=()=>{h.get(`/data-management/production/${a.production.production_id}/edit`)},x=()=>h.get("/data-management/production"),i=()=>{confirm("Are you sure you want to delete this production?")&&h.visit(`/data-management/production/${a.production.production_id}`,{method:"delete",preserveState:!1})};return(n,e)=>(s(),d(m,null,[f(_(D),{title:`Production â€” ${a.production.production_name}`},null,8,["title"]),f(C,{breadcrumbs:b},{default:T(()=>[t("div",et,[t("div",st,[t("div",null,[t("h2",dt,o(a.production.production_name),1),t("p",ot,[e[0]||(e[0]=w(" Status: ",-1)),t("strong",rt,o(a.production.status),1)]),t("p",nt,[e[1]||(e[1]=w(" Machine Groups: ",-1)),t("strong",null,o(a.production.process_count),1)])]),t("div",at,[f(k,{icon:_(B),label:"Back",color:"blue",onClick:x},null,8,["icon"]),f(k,{icon:_(N),label:"Edit",color:"amber",onClick:g},null,8,["icon"]),f(k,{icon:_(P),label:"Delete",color:"red",onClick:i},null,8,["icon"])])]),t("div",it,[e[5]||(e[5]=t("h3",{class:"text-lg font-medium mb-4"},"Production Details",-1)),t("div",ut,[t("div",null,[e[2]||(e[2]=t("span",{class:"text-muted-foreground dark:text-muted-foreground"},"ID:",-1)),t("span",lt,o(a.production.production_id),1)]),t("div",null,[e[3]||(e[3]=t("span",{class:"text-muted-foreground dark:text-muted-foreground"},"Name:",-1)),t("span",ct,o(a.production.production_name),1)]),t("div",null,[e[4]||(e[4]=t("span",{class:"text-muted-foreground dark:text-muted-foreground"},"Status:",-1)),t("span",mt,o(a.production.status),1)])])]),t("div",gt,[e[8]||(e[8]=t("h3",{class:"text-lg font-medium mb-4"},"Attached Machine Groups",-1)),e[9]||(e[9]=t("p",{class:"text-sm text-muted-foreground dark:text-muted-foreground mb-4"}," Machine groups attached to this production with their configured targets ",-1)),!a.production.machine_groups||a.production.machine_groups.length===0?(s(),d("div",ft," No machine groups attached. ")):(s(),d("div",pt,[(s(!0),d(m,null,p(a.production.machine_groups,u=>(s(),d("div",{key:u.production_machine_group_id,class:"border-b border-sidebar-border/70 dark:border-sidebar-border/70 pb-6 last:border-b-0 last:pb-0"},[t("div",bt,[t("div",xt,[t("div",null,[t("h4",_t,o(u.group_name),1),t("p",ht,o(u.group_description||"No description"),1)]),t("div",kt,[e[6]||(e[6]=t("div",{class:"text-sm text-muted-foreground dark:text-muted-foreground"},"Machines",-1)),t("div",yt,o(u.machine_count),1)])]),u.input_config?(s(),q(z,{key:0,config:u.input_config},null,8,["config"])):c("",!0)]),t("div",null,[e[7]||(e[7]=t("h5",{class:"text-sm font-medium mb-3"},"Targets",-1)),f(tt,{"input-config":u.input_config,"default-targets":u.default_targets,"per-date-targets":u.per_date_targets},null,8,["input-config","default-targets","per-date-targets"])])]))),128))]))])])]),_:1})],64))}});export{Mt as default};
