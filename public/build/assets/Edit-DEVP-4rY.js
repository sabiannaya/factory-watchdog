import{d as M,f as G,v as V,g as C,e as $,w as h,m as b,a as e,u as t,p as B,t as a,y as N,c,b as S,z as p,o as d,n as U,F as f,i as v,L as x,N as z,s as F,q as L,B as j}from"./app-i1_2c9TI.js";import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-UWREGGXY.js";import{u as E}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B0bB4Y56.js";import"./VisuallyHidden-CgfYLdxu.js";import"./index-C4J_hXM0.js";import"./x-T-BkQ4N0.js";const T={class:"p-4 space-y-4"},q={class:"text-3xl font-bold"},O={class:"text-muted-foreground dark:text-muted-foreground"},A={class:"rounded-lg border border-sidebar-border/70 dark:border-sidebar-border/70 bg-card dark:bg-card"},H={class:"p-4 border-b border-sidebar-border/40 flex items-start justify-between"},I={class:"text-lg font-semibold mb-1"},J={class:"text-sm text-muted-foreground dark:text-muted-foreground"},K={class:"text-sm text-muted-foreground dark:text-muted-foreground mt-2"},P={class:"p-6"},Q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},R={class:"font-semibold text-base"},W={class:"block text-sm font-medium mb-1.5"},X=["onUpdate:modelValue","placeholder"],Y={class:"text-xs text-muted-foreground dark:text-muted-foreground mt-1"},Z={class:"block text-sm font-medium mb-1.5"},ee=["onUpdate:modelValue","placeholder"],te={class:"flex items-center gap-3"},ae=["disabled"],oe={key:0,class:"rounded-lg bg-destructive/10 dark:bg-destructive/10 border border-destructive/20 dark:border-destructive/20 p-4"},ne={class:"text-sm font-medium text-destructive dark:text-destructive mb-2"},se={class:"text-sm text-destructive dark:text-destructive space-y-1"},me=M({__name:"Edit",props:{productionMachineGroup:{},fields:{},values:{},date:{}},setup(n){const{t:o}=E(),k=G(()=>[{title:o("data_management.data_management"),href:"/data-management/production"},{title:o("data_management.targets"),href:"/data-management/targets"},{title:o("data_management.edit"),href:window.location.pathname}]),l=n,r=V({date:l.date,values:l.values}),u=C(!0),w=()=>{r.put(`/data-management/targets/${l.productionMachineGroup.production_machine_group_id}`,{onSuccess:()=>{j.get(`/data-management/targets?production_id=${l.productionMachineGroup.production.production_id}&date=${l.date}`)}})};function y(_){return _.replace(/_/g," ").replace(/\b\w/g,i=>i.toUpperCase())}return(_,i)=>(d(),$(D,{breadcrumbs:k.value},{default:h(()=>[b(t(B),{title:t(o)("data_management.edit_daily_targets")},null,8,["title"]),e("div",T,[e("div",null,[e("h1",q,a(t(o)("data_management.edit_daily_targets")),1),e("p",O,a(n.productionMachineGroup.production.production_name)+" • "+a(n.productionMachineGroup.name)+" • "+a(n.date),1)]),e("form",{onSubmit:N(w,["prevent"]),class:"space-y-6"},[e("div",A,[e("div",H,[e("div",null,[e("h2",I,a(n.productionMachineGroup.machineGroup.name),1),e("p",J,a(n.productionMachineGroup.machineGroup.description),1),e("p",K,a(n.productionMachineGroup.machine_count)+" "+a(t(o)("data_management.machines")),1)]),e("div",null,[e("button",{type:"button",class:"btn btn-ghost",onClick:i[0]||(i[0]=s=>u.value=!u.value)},[(d(),c("svg",{xmlns:"http://www.w3.org/2000/svg",class:U(["h-4 w-4 transition-transform",{"-rotate-90":!u.value}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...i[1]||(i[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])])]),p(e("div",P,[e("div",Q,[(d(!0),c(f,null,v(t(r).values,(s,m)=>(d(),c("div",{key:m,class:"rounded-lg bg-muted/40 dark:bg-muted/40 p-4 space-y-3"},[e("h4",R,a(y(s.field_name)),1),e("div",null,[e("label",W,a(t(o)("data_management.target_value")),1),p(e("input",{"onUpdate:modelValue":g=>s.target_value=g,type:"number",placeholder:t(o)("data_management.enter_target"),min:"0",class:"input w-full"},null,8,X),[[x,s.target_value,void 0,{number:!0}]]),e("p",Y,a(t(o)("data_management.default"))+": "+a(n.productionMachineGroup.default_targets[s.field_name]??t(o)("data_management.none")),1)]),e("div",null,[e("label",Z,a(t(o)("data_management.notes")),1),p(e("textarea",{"onUpdate:modelValue":g=>s.keterangan=g,placeholder:t(o)("data_management.optional_notes"),rows:"2",class:"input w-full resize-none"},null,8,ee),[[x,s.keterangan]])])]))),128))])],512),[[z,u.value]])]),e("div",te,[e("button",{type:"submit",disabled:t(r).processing,class:"hover:cursor-pointer btn"},a(t(r).processing?t(o)("data_management.saving"):t(o)("data_management.save_changes")),9,ae),b(t(F),{href:`/data-management/targets?production_id=${n.productionMachineGroup.production.production_id}&date=${n.date}`,class:"btn btn-ghost"},{default:h(()=>[L(a(t(o)("data_management.cancel")),1)]),_:1},8,["href"])]),Object.keys(t(r).errors).length>0?(d(),c("div",oe,[e("p",ne,a(t(o)("data_management.errors"))+":",1),e("ul",se,[(d(!0),c(f,null,v(t(r).errors,(s,m)=>(d(),c("li",{key:m},"• "+a(s),1))),128))])])):S("",!0)],32)])]),_:1},8,["breadcrumbs"]))}});export{me as default};
