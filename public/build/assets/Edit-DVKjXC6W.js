import{d as N,f as k,g as b,c as _,m as i,u as l,p as T,w as c,a as e,t,z as p,b as g,q as o,n as y,L as v,o as f,F as j,B}from"./app-i1_2c9TI.js";import{_ as S}from"./AppLayout.vue_vue_type_script_setup_true_lang-UWREGGXY.js";import{u as z}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B0bB4Y56.js";import{_ as D,a as E,b as F,c as L,d as O,e as P,f as G}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-B5Z9-k2f.js";import{_ as M}from"./ToastNotifications.vue_vue_type_script_setup_true_lang-mcyszUyt.js";import{u as Q}from"./useToast-C_zToptU.js";import"./VisuallyHidden-CgfYLdxu.js";import"./index-C4J_hXM0.js";import"./x-T-BkQ4N0.js";const A={class:"p-4"},H={class:"rounded-xl border border-sidebar-border/70 p-6"},I={class:"text-lg font-semibold"},J={class:"mt-2 text-sm text-muted-foreground"},K={class:"mt-4"},R={class:"grid grid-cols-2 gap-4"},W={class:"block"},X={class:"text-sm font-medium"},Y=["placeholder"],Z={key:0,class:"mt-1 text-xs text-red-500"},ee={class:"block"},te={class:"text-sm font-medium"},ae=["placeholder"],se={key:0,class:"mt-1 text-xs text-red-500"},le={class:"block"},ne={class:"text-sm font-medium"},de=["placeholder"],oe={key:0,class:"mt-1 text-xs text-red-500"},ue={class:"block"},ie={class:"text-sm font-medium"},me=["placeholder"],re={key:0,class:"mt-1 text-xs text-red-500"},ce={class:"block"},_e={class:"text-sm font-medium"},pe={key:0,class:"mt-1 text-xs text-red-500"},ve={class:"block col-span-2"},fe={class:"text-sm font-medium"},ge=["placeholder"],ye={class:"mt-4 flex justify-end"},he=["disabled"],be={class:"rounded-lg bg-muted/50 p-3"},xe={class:"space-y-1 text-sm"},ke={class:"font-medium"},qe={class:"font-medium"},$e={class:"font-medium"},Ve={class:"font-medium"},Ce={class:"font-medium"},Ue={class:"flex justify-end gap-2"},Fe=N({__name:"Edit",props:{product:{}},setup(q){const m=q,{success:$}=Q(),{t:a}=z(),V=k(()=>[{title:a("data_management.data_management"),href:"/data-management/production"},{title:a("data_management.products"),href:"/data-management/products"},{title:a("data_management.edit"),href:`/data-management/products/${m.product.id}/edit`}]),s=b({id:m.product.id,name:m.product.name,thickness:m.product.thickness||"",ply:m.product.ply||"",glue_type:m.product.glue_type||"",qty:m.product.qty,notes:m.product.notes||""}),d=b({}),h=b(!1),x=b(!1),C=()=>{d.value={};const r={};return s.value.name?.trim()||(r.name="Name is required"),s.value.thickness?.trim()||(r.thickness="Thickness is required"),s.value.ply?.trim()||(r.ply="Ply is required"),s.value.glue_type?.trim()||(r.glue_type="Glue Type is required"),(!s.value.qty||s.value.qty<0)&&(r.qty="Qty must be a valid number"),d.value=r,Object.keys(r).length===0};k(()=>Object.keys(d.value).length>0);const U=()=>{C()&&(x.value=!0)},w=()=>{h.value=!0,B.put(`/data-management/products/${s.value.id}`,s.value,{onSuccess:()=>{$("Product updated",`${s.value.name} has been updated successfully`)},onFinish:()=>h.value=!1})};return(r,n)=>(f(),_(j,null,[i(l(T),{title:`${l(a)("data_management.edit_product")} - ${m.product.name}`},null,8,["title"]),i(S,{breadcrumbs:V.value},{default:c(()=>[e("div",A,[e("div",H,[e("h2",I,t(l(a)("data_management.edit_product")),1),e("p",J,t(l(a)("data_management.edit_product_description")),1),e("div",K,[e("div",R,[e("label",W,[e("div",X,[o(t(l(a)("data_management.name"))+" ",1),n[7]||(n[7]=e("span",{class:"text-red-500"},"*",-1))]),p(e("input",{"onUpdate:modelValue":n[0]||(n[0]=u=>s.value.name=u),type:"text",placeholder:l(a)("data_management.enter_product_name"),class:y(["input",{"border-red-500":d.value.name}])},null,10,Y),[[v,s.value.name]]),d.value.name?(f(),_("p",Z,t(d.value.name),1)):g("",!0)]),e("label",ee,[e("div",te,[o(t(l(a)("data_management.thickness"))+" ",1),n[8]||(n[8]=e("span",{class:"text-red-500"},"*",-1))]),p(e("input",{"onUpdate:modelValue":n[1]||(n[1]=u=>s.value.thickness=u),type:"text",placeholder:l(a)("data_management.thickness_placeholder"),class:y(["input",{"border-red-500":d.value.thickness}])},null,10,ae),[[v,s.value.thickness]]),d.value.thickness?(f(),_("p",se,t(d.value.thickness),1)):g("",!0)]),e("label",le,[e("div",ne,[o(t(l(a)("data_management.ply"))+" ",1),n[9]||(n[9]=e("span",{class:"text-red-500"},"*",-1))]),p(e("input",{"onUpdate:modelValue":n[2]||(n[2]=u=>s.value.ply=u),type:"text",placeholder:l(a)("data_management.ply_placeholder"),class:y(["input",{"border-red-500":d.value.ply}])},null,10,de),[[v,s.value.ply]]),d.value.ply?(f(),_("p",oe,t(d.value.ply),1)):g("",!0)]),e("label",ue,[e("div",ie,[o(t(l(a)("data_management.glue_type"))+" ",1),n[10]||(n[10]=e("span",{class:"text-red-500"},"*",-1))]),p(e("input",{"onUpdate:modelValue":n[3]||(n[3]=u=>s.value.glue_type=u),type:"text",placeholder:l(a)("data_management.glue_type_placeholder"),class:y(["input",{"border-red-500":d.value.glue_type}])},null,10,me),[[v,s.value.glue_type]]),d.value.glue_type?(f(),_("p",re,t(d.value.glue_type),1)):g("",!0)]),e("label",ce,[e("div",_e,[o(t(l(a)("data_management.qty"))+" ",1),n[11]||(n[11]=e("span",{class:"text-red-500"},"*",-1))]),p(e("input",{"onUpdate:modelValue":n[4]||(n[4]=u=>s.value.qty=u),type:"number",placeholder:"0",class:y(["input",{"border-red-500":d.value.qty}])},null,2),[[v,s.value.qty,void 0,{number:!0}]]),d.value.qty?(f(),_("p",pe,t(d.value.qty),1)):g("",!0)]),e("label",ve,[e("div",fe,t(l(a)("data_management.notes")),1),p(e("textarea",{"onUpdate:modelValue":n[5]||(n[5]=u=>s.value.notes=u),placeholder:l(a)("data_management.notes_placeholder"),class:"input"},null,8,ge),[[v,s.value.notes]])])]),e("div",ye,[e("button",{class:"hover:cursor-pointer btn",disabled:h.value,onClick:U},t(l(a)("data_management.save")),9,he)])])])]),i(D,{open:x.value,"onUpdate:open":n[6]||(n[6]=u=>x.value=u)},{default:c(()=>[i(E,null,{default:c(()=>[i(F,null,{default:c(()=>[i(L,null,{default:c(()=>[o(t(l(a)("data_management.confirm_update_product")),1)]),_:1}),i(O,null,{default:c(()=>[o(t(l(a)("data_management.confirm_update_product_description")),1)]),_:1})]),_:1}),e("div",be,[e("div",xe,[e("div",null,[e("span",ke,t(l(a)("data_management.name"))+":",1),o(" "+t(s.value.name),1)]),e("div",null,[e("span",qe,t(l(a)("data_management.thickness"))+":",1),o(" "+t(s.value.thickness),1)]),e("div",null,[e("span",$e,t(l(a)("data_management.ply"))+":",1),o(" "+t(s.value.ply),1)]),e("div",null,[e("span",Ve,t(l(a)("data_management.glue_type"))+":",1),o(" "+t(s.value.glue_type),1)]),e("div",null,[e("span",Ce,t(l(a)("data_management.qty"))+":",1),o(" "+t(s.value.qty),1)])])]),e("div",Ue,[i(P,null,{default:c(()=>[o(t(l(a)("data_management.cancel")),1)]),_:1}),i(G,{onClick:w,disabled:h.value},{default:c(()=>[o(t(l(a)("data_management.save")),1)]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["open"]),i(M)]),_:1},8,["breadcrumbs"])],64))}});export{Fe as default};
