import{d as U,r as g,c as i,k as d,u as N,l as E,m as r,a as t,H as p,b as c,q as u,n as _,I as v,o as f,t as n,F as w,J as G}from"./app-DE6ow1Ix.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-bEXc6-g0.js";import{_ as D,a as j,b as B,c as F,d as T,e as q,f as O}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-CLSnltDb.js";import{_ as z,u as A}from"./ToastNotifications.vue_vue_type_script_setup_true_lang-DLb4duLt.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Bir4mPS3.js";import"./index-D65DViVt.js";import"./VisuallyHidden-CBitG6WX.js";import"./useForwardExpose-e7sykY-9.js";import"./useForwardPropsEmits-BPFUmVRI.js";import"./index-C4J_hXM0.js";import"./createLucideIcon-CIZlwMSZ.js";const H={class:"p-4"},I={class:"rounded-xl border border-sidebar-border/70 p-6"},J={class:"mt-4"},K={class:"grid grid-cols-2 gap-4"},L={class:"block"},P={key:0,class:"mt-1 text-xs text-red-500"},Q={class:"block"},R={key:0,class:"mt-1 text-xs text-red-500"},W={class:"block"},X={key:0,class:"mt-1 text-xs text-red-500"},Y={class:"block"},Z={key:0,class:"mt-1 text-xs text-red-500"},h={class:"block"},ee={key:0,class:"mt-1 text-xs text-red-500"},te={class:"block col-span-2"},se={class:"mt-4 flex justify-end"},ae=["disabled"],le={class:"rounded-lg bg-muted/50 p-3"},de={class:"space-y-1 text-sm"},oe={class:"flex justify-end gap-2"},ge=U({__name:"Edit",props:{glueSpreader:{}},setup(y){const o=y,{success:S}=A(),k=[{title:"Data Management",href:"/data-management/production"},{title:"Glue Spreaders",href:"/data-management/glue-spreaders"},{title:"Edit",href:`/data-management/glue-spreaders/${o.glueSpreader.id}/edit`}],s=g({id:o.glueSpreader.id,name:o.glueSpreader.name,model:o.glueSpreader.model||"",capacity_ml:o.glueSpreader.capacity_ml??null,speed_mpm:o.glueSpreader.speed_mpm??null,status:o.glueSpreader.status||"",notes:o.glueSpreader.notes||""}),a=g({}),b=g(!1),x=g(!1),$=()=>{a.value={};const m={};return s.value.name?.trim()||(m.name="Name is required"),s.value.capacity_ml!==null&&s.value.capacity_ml<0&&(m.capacity_ml="Capacity must be 0 or greater"),s.value.speed_mpm!==null&&s.value.speed_mpm<0&&(m.speed_mpm="Speed must be 0 or greater"),a.value=m,Object.keys(m).length===0},C=()=>{$()&&(x.value=!0)},V=()=>{b.value=!0,G.put(`/data-management/glue-spreaders/${s.value.id}`,s.value,{onSuccess:()=>{S("Glue Spreader updated",`${s.value.name} has been updated successfully`)},onFinish:()=>b.value=!1})};return(m,e)=>(f(),i(w,null,[d(N(E),{title:`Edit Glue Spreader - ${o.glueSpreader.name}`},null,8,["title"]),d(M,{breadcrumbs:k},{default:r(()=>[t("div",H,[t("div",I,[e[13]||(e[13]=t("h2",{class:"text-lg font-semibold"},"Edit Glue Spreader",-1)),e[14]||(e[14]=t("p",{class:"mt-2 text-sm text-muted-foreground"},"Update glue spreader details.",-1)),t("div",J,[t("div",K,[t("label",L,[e[7]||(e[7]=t("div",{class:"text-sm font-medium"},[u("Name "),t("span",{class:"text-red-500"},"*")],-1)),p(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>s.value.name=l),type:"text",placeholder:"Enter name",class:_(["input",{"border-red-500":a.value.name}])},null,2),[[v,s.value.name]]),a.value.name?(f(),i("p",P,n(a.value.name),1)):c("",!0)]),t("label",Q,[e[8]||(e[8]=t("div",{class:"text-sm font-medium"},"Model",-1)),p(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>s.value.model=l),type:"text",placeholder:"Model identifier",class:_(["input",{"border-red-500":a.value.model}])},null,2),[[v,s.value.model]]),a.value.model?(f(),i("p",R,n(a.value.model),1)):c("",!0)]),t("label",W,[e[9]||(e[9]=t("div",{class:"text-sm font-medium"},"Capacity (ml)",-1)),p(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>s.value.capacity_ml=l),type:"number",placeholder:"e.g., 1000",class:_(["input",{"border-red-500":a.value.capacity_ml}])},null,2),[[v,s.value.capacity_ml,void 0,{number:!0}]]),a.value.capacity_ml?(f(),i("p",X,n(a.value.capacity_ml),1)):c("",!0)]),t("label",Y,[e[10]||(e[10]=t("div",{class:"text-sm font-medium"},"Speed (mpm)",-1)),p(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>s.value.speed_mpm=l),type:"number",placeholder:"e.g., 10",class:_(["input",{"border-red-500":a.value.speed_mpm}])},null,2),[[v,s.value.speed_mpm,void 0,{number:!0}]]),a.value.speed_mpm?(f(),i("p",Z,n(a.value.speed_mpm),1)):c("",!0)]),t("label",h,[e[11]||(e[11]=t("div",{class:"text-sm font-medium"},"Status",-1)),p(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>s.value.status=l),type:"text",placeholder:"active / maintenance / retired",class:_(["input",{"border-red-500":a.value.status}])},null,2),[[v,s.value.status]]),a.value.status?(f(),i("p",ee,n(a.value.status),1)):c("",!0)]),t("label",te,[e[12]||(e[12]=t("div",{class:"text-sm font-medium"},"Notes",-1)),p(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=l=>s.value.notes=l),placeholder:"Optional notes",class:"input"},null,512),[[v,s.value.notes]])])]),t("div",se,[t("button",{class:"btn hover:cursor-pointer",disabled:b.value,onClick:C},"Save",8,ae)])])])]),d(D,{open:x.value,"onUpdate:open":e[6]||(e[6]=l=>x.value=l)},{default:r(()=>[d(j,null,{default:r(()=>[d(B,null,{default:r(()=>[d(F,null,{default:r(()=>[...e[15]||(e[15]=[u("Confirm Update Glue Spreader",-1)])]),_:1}),d(T,null,{default:r(()=>[...e[16]||(e[16]=[u(" Are you sure you want to save changes to this glue spreader? ",-1)])]),_:1})]),_:1}),t("div",le,[t("div",de,[t("div",null,[e[17]||(e[17]=t("span",{class:"font-medium"},"Name:",-1)),u(" "+n(s.value.name),1)]),t("div",null,[e[18]||(e[18]=t("span",{class:"font-medium"},"Model:",-1)),u(" "+n(s.value.model||"-"),1)]),t("div",null,[e[19]||(e[19]=t("span",{class:"font-medium"},"Capacity (ml):",-1)),u(" "+n(s.value.capacity_ml??"-"),1)]),t("div",null,[e[20]||(e[20]=t("span",{class:"font-medium"},"Speed (mpm):",-1)),u(" "+n(s.value.speed_mpm??"-"),1)])])]),t("div",oe,[d(q,null,{default:r(()=>[...e[21]||(e[21]=[u("Cancel",-1)])]),_:1}),d(O,{onClick:V,disabled:b.value},{default:r(()=>[...e[22]||(e[22]=[u("Save",-1)])]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["open"]),d(z)]),_:1})],64))}});export{ge as default};
