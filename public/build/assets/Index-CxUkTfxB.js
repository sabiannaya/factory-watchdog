import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-CNNNqqjX.js";import{d as N,f as V,g as _,x as B,B as o,c as p,m as n,u as c,p as E,w as q,a as t,e as j,b as A,o as m,F as x,i as F,t as i}from"./app-D4NX6RtZ.js";import{_ as f,P as I}from"./IconActionButton.vue_vue_type_script_setup_true_lang-DJGF6nNE.js";import{_ as M}from"./ToastNotifications.vue_vue_type_script_setup_true_lang-BMk0SZx-.js";import{u as z}from"./useToast-aH6RW4y0.js";import{_ as G}from"./Input.vue_vue_type_script_setup_true_lang-BWEJuRad.js";import{_ as L}from"./Spinner.vue_vue_type_script_setup_true_lang-BqsWXN44.js";import{S as Q}from"./search-DA59VARU.js";import{E as U}from"./eye-YncoTxWj.js";import{T as w}from"./trash-2-BIBKvKRy.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BzC2dvNG.js";import"./Presence-CsGVf8pY.js";import"./createLucideIcon-A0T1vukc.js";import"./useForwardPropsEmits-BmzqlngZ.js";import"./x-XD7JAbQb.js";import"./VisuallyHidden-BeURpiPp.js";import"./index-C4J_hXM0.js";const H={class:"p-4"},J={class:"mt-4"},K={class:"relative"},O={class:"mt-4"},R={class:"overflow-x-auto"},W={class:"w-full table-auto border-collapse"},X={class:"px-3 py-2 text-sm"},Y={class:"px-3 py-2 text-sm"},Z={class:"px-3 py-2 text-sm"},tt={class:"px-3 py-2 text-sm"},et={class:"px-3 py-2 text-sm"},st={class:"px-3 py-2 text-sm"},ot={class:"px-3 py-2 text-sm"},at={class:"flex items-center gap-4"},nt={class:"mt-4 flex items-center justify-end gap-2"},lt=["disabled"],ct=["disabled"],St=N({__name:"Index",props:{products:{},meta:{}},setup(h){const g=[{title:"Data Management",href:"/data-management/production"},{title:"Products",href:"/data-management/products"}],l=h,{success:b}=z(),v=V(()=>l.products?.data??[]),r=_(!1),d=_(l.meta?.q??"");let u;const y=()=>{const e=l.meta?.per_page??15;o.get("/data-management/products",{q:d.value||null,per_page:e},{preserveState:!0,replace:!0})};B(d,()=>{u&&clearTimeout(u),u=setTimeout(y,800)});const k=()=>o.get("/data-management/products/create"),C=e=>o.get(`/data-management/products/${e}`),P=e=>o.get(`/data-management/products/${e}/edit`),S=(e,a)=>{window.confirm("Delete this product?")&&o.visit(`/data-management/products/${e}`,{method:"delete",onSuccess:()=>{b("Product deleted",`${a} has been deleted successfully`)}})},$=()=>{const e=l.products?.links?.prev;e&&o.get(e)},T=()=>{const e=l.products?.links?.next;e&&o.get(e)};return o.on("start",()=>r.value=!0),o.on("finish",()=>r.value=!1),(e,a)=>(m(),p(x,null,[n(c(E),{title:"Products"}),n(D,{breadcrumbs:g},{default:q(()=>[t("div",H,[t("div",{class:"flex items-center justify-between"},[a[1]||(a[1]=t("div",null,[t("h2",{class:"text-2xl font-semibold"},"Products (Setting Produk)"),t("p",{class:"text-sm text-muted-foreground"},"Manage product definitions used by production.")],-1)),t("button",{class:"hover:cursor-pointer btn",onClick:k},"Add Product")]),t("div",J,[t("div",K,[n(c(Q),{class:"absolute left-2 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),n(c(G),{modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=s=>d.value=s),disabled:r.value,type:"search",placeholder:"Search products...",class:"pl-8"},null,8,["modelValue","disabled"]),r.value?(m(),j(c(L),{key:0,class:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground"})):A("",!0)])]),t("div",O,[t("div",R,[t("table",W,[a[2]||(a[2]=t("thead",null,[t("tr",{class:"text-left"},[t("th",{class:"px-3 py-2 text-sm font-medium"},"ID"),t("th",{class:"px-3 py-2 text-sm font-medium"},"Name"),t("th",{class:"px-3 py-2 text-sm font-medium"},"Thickness"),t("th",{class:"px-3 py-2 text-sm font-medium"},"Ply"),t("th",{class:"px-3 py-2 text-sm font-medium"},"Glue"),t("th",{class:"px-3 py-2 text-sm font-medium"},"Qty"),t("th",{class:"px-3 py-2 text-sm font-medium"},"Actions")])],-1)),t("tbody",null,[(m(!0),p(x,null,F(v.value,s=>(m(),p("tr",{key:s.id,class:"border-t"},[t("td",X,i(s.id),1),t("td",Y,i(s.name),1),t("td",Z,i(s.thickness),1),t("td",tt,i(s.ply),1),t("td",et,i(s.glue_type),1),t("td",st,i(s.qty),1),t("td",ot,[t("div",at,[n(f,{icon:c(U),label:"Show",color:"blue",onClick:()=>C(s.id)},null,8,["icon","onClick"]),n(f,{icon:c(I),label:"Edit",color:"amber",onClick:()=>P(s.id)},null,8,["icon","onClick"]),n(f,{icon:c(w),label:"Delete",color:"red",onClick:()=>S(s.id,s.name)},null,8,["icon","onClick"])])])]))),128))])])]),t("div",nt,[t("button",{class:"hover:cursor-pointer btn",disabled:!l.products?.links?.prev||r.value,onClick:$},"Previous",8,lt),t("button",{class:"hover:cursor-pointer btn",disabled:!l.products?.links?.next||r.value,onClick:T},"Next",8,ct)])])]),n(M)]),_:1})],64))}});export{St as default};
