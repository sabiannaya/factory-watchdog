import{_ as A}from"./AppLayout.vue_vue_type_script_setup_true_lang-CNNNqqjX.js";import{d as W,f as q,g as _,x as M,B as o,c as p,m as r,u as l,p as j,w as F,a as e,e as I,b as U,o as m,F as x,i as z,t as n}from"./app-D4NX6RtZ.js";import{_ as h,P as L}from"./IconActionButton.vue_vue_type_script_setup_true_lang-DJGF6nNE.js";import{_ as Q}from"./ToastNotifications.vue_vue_type_script_setup_true_lang-BMk0SZx-.js";import{u as R}from"./useToast-aH6RW4y0.js";import{_ as G}from"./Input.vue_vue_type_script_setup_true_lang-BWEJuRad.js";import{_ as H}from"./Spinner.vue_vue_type_script_setup_true_lang-BqsWXN44.js";import{S as J}from"./search-DA59VARU.js";import{E as K}from"./eye-YncoTxWj.js";import{T as O}from"./trash-2-BIBKvKRy.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BzC2dvNG.js";import"./Presence-CsGVf8pY.js";import"./createLucideIcon-A0T1vukc.js";import"./useForwardPropsEmits-BmzqlngZ.js";import"./x-XD7JAbQb.js";import"./VisuallyHidden-BeURpiPp.js";import"./index-C4J_hXM0.js";const X={class:"p-4"},Y={class:"mt-4"},Z={class:"relative"},ee={class:"mt-4"},te={class:"overflow-x-auto"},se={class:"w-full table-auto border-collapse"},ae={class:"px-3 py-2 text-sm"},oe={class:"px-3 py-2 text-sm"},ne={class:"px-3 py-2 text-sm"},re={class:"px-3 py-2 text-sm"},ie={class:"px-3 py-2 text-sm"},le={class:"px-3 py-2 text-sm"},ce={class:"px-3 py-2 text-sm"},de={class:"px-3 py-2 text-sm"},me={class:"px-3 py-2 text-sm"},ue={class:"px-3 py-2 text-sm"},pe={class:"flex items-center gap-4"},he={class:"mt-4 flex items-center justify-end gap-2"},fe=["disabled"],_e=["disabled"],Ae=W({__name:"Index",props:{warehouses:{},meta:{}},setup(y){const g=[{title:"Data Management",href:"/data-management/production"},{title:"Warehouse",href:"/data-management/warehouses"}],i=y,{success:b}=R(),v=q(()=>i.warehouses?.data??[]),c=_(!1),d=_(i.meta?.q??"");let u;const k=()=>o.get("/data-management/warehouses/create"),C=s=>o.get(`/data-management/warehouses/${s}`),$=s=>o.get(`/data-management/warehouses/${s}/edit`),S=(s,a)=>{window.confirm("Delete this warehouse record?")&&o.visit(`/data-management/warehouses/${s}`,{method:"delete",onSuccess:()=>{b("Warehouse deleted",`${a} has been deleted successfully`)}})},w=()=>{const s=i.warehouses?.links?.prev;s&&o.get(s)},P=()=>{const s=i.warehouses?.links?.next;s&&o.get(s)},B=()=>{const s=i.meta?.per_page??15;o.get("/data-management/warehouses",{q:d.value||null,per_page:s},{preserveState:!0,replace:!0})};M(d,()=>{u&&clearTimeout(u),u=setTimeout(B,800)}),o.on("start",()=>c.value=!0),o.on("finish",()=>c.value=!1);const f=s=>{if(!s)return"-";const[a,t]=s.split(" ");if(!a)return s;const[D,N,T]=a.split("-"),[V="00",E="00"]=(t??"").split(":");return`${T}/${N}/${D} ${V}:${E}`};return(s,a)=>(m(),p(x,null,[r(l(j),{title:"Warehouse"}),r(A,{breadcrumbs:g},{default:F(()=>[e("div",X,[e("div",{class:"flex items-center justify-between"},[a[1]||(a[1]=e("div",null,[e("h2",{class:"text-2xl font-semibold"},"Warehouse"),e("p",{class:"text-sm text-muted-foreground"},"Manage warehouse receipts from production.")],-1)),e("button",{class:"hover:cursor-pointer btn",onClick:k},"Add Record")]),e("div",Y,[e("div",Z,[r(l(J),{class:"absolute left-2 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),r(l(G),{modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=t=>d.value=t),disabled:c.value,type:"search",placeholder:"Search warehouses...",class:"pl-8"},null,8,["modelValue","disabled"]),c.value?(m(),I(l(H),{key:0,class:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground"})):U("",!0)])]),e("div",ee,[e("div",te,[e("table",se,[a[2]||(a[2]=e("thead",null,[e("tr",{class:"text-left"},[e("th",{class:"px-3 py-2 text-sm font-medium"},"ID"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Source"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Quantity"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Packing"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Notes"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Created At"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Created By"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Updated At"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Modified By"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Actions")])],-1)),e("tbody",null,[(m(!0),p(x,null,z(v.value,t=>(m(),p("tr",{key:t.id,class:"border-t"},[e("td",ae,n(t.id),1),e("td",oe,n(t.source??"-"),1),e("td",ne,n(t.quantity??"-"),1),e("td",re,n(t.packing??"-"),1),e("td",ie,n(t.notes??"-"),1),e("td",le,n(f(t.created_at)),1),e("td",ce,n(t.created_by??"-"),1),e("td",de,n(f(t.updated_at)),1),e("td",me,n(t.modified_by??"-"),1),e("td",ue,[e("div",pe,[r(h,{icon:l(K),label:"Show",color:"blue",onClick:()=>C(t.id)},null,8,["icon","onClick"]),r(h,{icon:l(L),label:"Edit",color:"amber",onClick:()=>$(t.id)},null,8,["icon","onClick"]),r(h,{icon:l(O),label:"Delete",color:"red",onClick:()=>S(t.id,String(t.source??t.id))},null,8,["icon","onClick"])])])]))),128))])])]),e("div",he,[e("button",{class:"hover:cursor-pointer btn",disabled:!i.warehouses?.links?.prev||c.value,onClick:w},"Previous",8,fe),e("button",{class:"hover:cursor-pointer btn",disabled:!i.warehouses?.links?.next||c.value,onClick:P},"Next",8,_e)])])]),r(Q)]),_:1})],64))}});export{Ae as default};
