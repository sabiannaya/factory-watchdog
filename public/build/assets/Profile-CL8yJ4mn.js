import{d as _,l as A,e as x,w as r,J as $,D as y,u as t,o as m,c as b,n as S,al as j,m as a,a as i,q as d,C as P,f as z,U as H,p as L,b as E,t as p,s as R,aj as O,z as U,N as J}from"./app-i1_2c9TI.js";import{q}from"./index-C4J_hXM0.js";import{e as M,_ as W}from"./AppLayout.vue_vue_type_script_setup_true_lang-UWREGGXY.js";import{s as G}from"./index-DZxzsgmi.js";import{a as T,_ as K}from"./Layout.vue_vue_type_script_setup_true_lang-C1u3bsiw.js";import{_ as k}from"./InputError.vue_vue_type_script_setup_true_lang-DizHdYT9.js";import{n as X,g as Y,P as Z,s as ee,e as v,u as te}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B0bB4Y56.js";import{_ as ae,a as se,b as re,c as oe,d as le}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DyeSlFUp.js";import{i as ne,d as ie}from"./x-T-BkQ4N0.js";import{_ as C}from"./Input.vue_vue_type_script_setup_true_lang-mGQONf2a.js";import{_ as D}from"./Label.vue_vue_type_script_setup_true_lang-BIJFKMbz.js";import"./VisuallyHidden-CgfYLdxu.js";import"./index--H2rh_A_.js";var de=_({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const s=e,l=ne(),{forwardRef:o,currentElement:f}=X();return l.contentId||=Y(void 0,"reka-dialog-content"),A(()=>{l.triggerElement.value=f.value}),(g,w)=>(m(),x(t(Z),y(s,{ref:t(o),type:g.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":t(l).open.value||!1,"aria-controls":t(l).open.value?t(l).contentId:void 0,"data-state":t(l).open.value?"open":"closed",onClick:t(l).onOpenToggle}),{default:r(()=>[$(g.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),ue=de;const n=e=>({url:n.url(e),method:"get"});n.definition={methods:["get","head"],url:"/settings/profile"};n.url=e=>n.definition.url+q(e);n.get=e=>({url:n.url(e),method:"get"});n.head=e=>({url:n.url(e),method:"head"});const Q=e=>({action:n.url(e),method:"get"});Q.get=e=>({action:n.url(e),method:"get"});Q.head=e=>({action:n.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});n.form=Q;const u=e=>({url:u.url(e),method:"patch"});u.definition={methods:["patch"],url:"/settings/profile"};u.url=e=>u.definition.url+q(e);u.patch=e=>({url:u.url(e),method:"patch"});const B=e=>({action:u.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});B.patch=e=>({action:u.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});u.form=B;const c=e=>({url:c.url(e),method:"delete"});c.definition={methods:["delete"],url:"/settings/profile"};c.url=e=>c.definition.url+q(e);c.delete=e=>({url:c.url(e),method:"delete"});const I=e=>({action:c.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});I.delete=e=>({action:c.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});c.form=I;const V={edit:n,update:u,destroy:c},ce=_({__name:"DialogClose",props:{asChild:{type:Boolean},as:{}},setup(e){const s=e;return(l,o)=>(m(),x(t(ie),y({"data-slot":"dialog-close"},s),{default:r(()=>[$(l.$slots,"default")]),_:3},16))}}),me=_({__name:"DialogFooter",props:{class:{}},setup(e){const s=e;return(l,o)=>(m(),b("div",{"data-slot":"dialog-footer",class:S(t(ee)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s.class))},[$(l.$slots,"default")],2))}}),fe=_({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const s=e;return(l,o)=>(m(),x(t(ue),y({"data-slot":"dialog-trigger"},s),{default:r(()=>[$(l.$slots,"default")]),_:3},16))}}),pe={class:"space-y-6"},_e={class:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10"},ge={class:"grid gap-2"},ye=_({__name:"DeleteUser",setup(e){const s=j("passwordInput");return(l,o)=>(m(),b("div",pe,[a(T,{title:"Delete account",description:"Delete your account and all of its resources"}),i("div",_e,[o[7]||(o[7]=i("div",{class:"relative space-y-0.5 text-red-600 dark:text-red-100"},[i("p",{class:"font-medium"},"Warning"),i("p",{class:"text-sm"}," Please proceed with caution, this cannot be undone. ")],-1)),a(t(le),null,{default:r(()=>[a(t(fe),{"as-child":""},{default:r(()=>[a(t(v),{variant:"destructive","data-test":"delete-user-button"},{default:r(()=>[...o[1]||(o[1]=[d("Delete account",-1)])]),_:1})]),_:1}),a(t(ae),null,{default:r(()=>[a(t(P),y(t(V).destroy.form(),{"reset-on-success":"",onError:o[0]||(o[0]=()=>s.value?.$el?.focus()),options:{preserveScroll:!0},class:"space-y-6"}),{default:r(({errors:f,processing:g,reset:w,clearErrors:h})=>[a(t(se),{class:"space-y-3"},{default:r(()=>[a(t(re),null,{default:r(()=>[...o[2]||(o[2]=[d("Are you sure you want to delete your account?",-1)])]),_:1}),a(t(oe),null,{default:r(()=>[...o[3]||(o[3]=[d(" Once your account is deleted, all of its resources and data will also be permanently deleted. Please enter your password to confirm you would like to permanently delete your account. ",-1)])]),_:1})]),_:1}),i("div",ge,[a(t(D),{for:"password",class:"sr-only"},{default:r(()=>[...o[4]||(o[4]=[d("Password",-1)])]),_:1}),a(t(C),{id:"password",type:"password",name:"password",ref_key:"passwordInput",ref:s,placeholder:"Password"},null,512),a(k,{message:f.password},null,8,["message"])]),a(t(me),{class:"gap-2"},{default:r(()=>[a(t(ce),{"as-child":""},{default:r(()=>[a(t(v),{variant:"secondary",onClick:()=>{h(),w()}},{default:r(()=>[...o[5]||(o[5]=[d(" Cancel ",-1)])]),_:1},8,["onClick"])]),_:2},1024),a(t(v),{type:"submit",variant:"destructive",disabled:g,"data-test":"confirm-delete-user-button"},{default:r(()=>[...o[6]||(o[6]=[d(" Delete account ",-1)])]),_:1},8,["disabled"])]),_:2},1024)]),_:1},16)]),_:1})]),_:1})])]))}}),he={class:"flex flex-col space-y-6"},ve={class:"grid gap-2"},be={class:"grid gap-2"},xe={key:0},$e={class:"-mt-4 text-sm text-muted-foreground"},we={key:0,class:"mt-2 text-sm font-medium text-green-600"},ke={class:"flex items-center gap-4"},Se=_({__name:"Profile",props:{mustVerifyEmail:{type:Boolean},status:{}},setup(e){const{t:s}=te(),l=z(()=>[{title:s("settings.profile"),href:M().url}]),f=H().props.auth.user;return(g,w)=>(m(),x(W,{breadcrumbs:l.value},{default:r(()=>[a(t(L),{title:t(s)("settings.profile")},null,8,["title"]),a(K,null,{default:r(()=>[i("div",he,[a(T,{title:t(s)("settings.profile_info"),description:t(s)("settings.profile_info_description")},null,8,["title","description"]),a(t(P),y(t(V).update.form(),{class:"space-y-6"}),{default:r(({errors:h,processing:F,recentlySuccessful:N})=>[i("div",ve,[a(t(D),{for:"name"},{default:r(()=>[d(p(t(s)("settings.name")),1)]),_:1}),a(t(C),{id:"name",class:"mt-1 block w-full",name:"name","default-value":t(f).name,required:"",autocomplete:"name",placeholder:t(s)("settings.name_placeholder")},null,8,["default-value","placeholder"]),a(k,{class:"mt-2",message:h.name},null,8,["message"])]),i("div",be,[a(t(D),{for:"email"},{default:r(()=>[d(p(t(s)("settings.email")),1)]),_:1}),a(t(C),{id:"email",type:"email",class:"mt-1 block w-full",name:"email","default-value":t(f).email,required:"",autocomplete:"username",placeholder:t(s)("settings.email_placeholder")},null,8,["default-value","placeholder"]),a(k,{class:"mt-2",message:h.email},null,8,["message"])]),e.mustVerifyEmail&&!t(f).email_verified_at?(m(),b("div",xe,[i("p",$e,[d(p(t(s)("settings.email_unverified"))+" ",1),a(t(R),{href:t(G)(),as:"button",class:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500"},{default:r(()=>[d(p(t(s)("settings.resend_verification")),1)]),_:1},8,["href"])]),e.status==="verification-link-sent"?(m(),b("div",we,p(t(s)("settings.verification_sent")),1)):E("",!0)])):E("",!0),i("div",ke,[a(t(v),{disabled:F,"data-test":"update-profile-button"},{default:r(()=>[d(p(t(s)("app.save")),1)]),_:1},8,["disabled"]),a(O,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:r(()=>[U(i("p",{class:"text-sm text-neutral-600"},p(t(s)("settings.saved")),513),[[J,N]])]),_:2},1024)])]),_:1},16)]),a(ye)]),_:1})]),_:1},8,["breadcrumbs"]))}});export{Se as default};
