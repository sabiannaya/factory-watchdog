import{d as $,f as h,v as V,g,c as v,m as o,u as a,p as S,w as l,a as e,z as d,L as m,b as N,q as i,o as _,t as p,B as y,F as D}from"./app-i1_2c9TI.js";import{_ as U}from"./AppLayout.vue_vue_type_script_setup_true_lang-UWREGGXY.js";import{_ as B}from"./ToastNotifications.vue_vue_type_script_setup_true_lang-mcyszUyt.js";import{u as F}from"./useToast-C_zToptU.js";import{_ as O,a as P,b as Q,c as W,d as j,e as L,f as R}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-B5Z9-k2f.js";import{u as T}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B0bB4Y56.js";import"./VisuallyHidden-CgfYLdxu.js";import"./index-C4J_hXM0.js";import"./x-T-BkQ4N0.js";const z={class:"p-4"},A={class:"rounded-xl border border-sidebar-border/70 p-6"},E={class:"mt-4"},J={class:"grid grid-cols-2 gap-4"},K={class:"block col-span-2"},M={class:"block"},G={key:0,class:"mt-1 text-xs text-red-500"},H={class:"block"},I={class:"block col-span-2"},X={class:"mt-4 flex justify-end"},Y=["disabled"],Z={class:"rounded-lg bg-muted/50 p-3"},tt={class:"space-y-1 text-sm"},et={class:"flex justify-end gap-2"},pt=$({__name:"Create",setup(st){const{t:f}=T(),x=h(()=>[{title:f("data_management.data_management"),href:"/data-management/production"},{title:f("data_management.warehouse"),href:"/data-management/warehouses"},{title:f("data_management.create"),href:"/data-management/warehouses/create"}]),{success:w}=F(),s=V({source:"",quantity:0,packing:"",notes:"",is_active:!0}),c=g({}),r=g(!1),b=g(!1),k=()=>{const u={};return s.quantity===null||s.quantity===void 0?u.quantity="Quantity is required":s.quantity<0&&(u.quantity="Quantity must be 0 or greater"),c.value=u,Object.keys(u).length===0},C=()=>{k()&&(b.value=!0)},q=()=>{r.value=!0,s.post("/data-management/warehouses",{onSuccess:()=>{w("Warehouse created","New warehouse record has been saved"),y.get("/data-management/warehouses")},onFinish:()=>r.value=!1})};return(u,t)=>(_(),v(D,null,[o(a(S),{title:"Create Warehouse Record"}),o(U,{breadcrumbs:x.value},{default:l(()=>[e("div",z,[e("div",A,[t[10]||(t[10]=e("h2",{class:"text-lg font-semibold"},"Create Warehouse Record",-1)),t[11]||(t[11]=e("p",{class:"mt-2 text-sm text-muted-foreground"},"Add a new warehouse receipt from production.",-1)),e("div",E,[e("div",J,[e("label",K,[t[6]||(t[6]=e("div",{class:"text-sm font-medium"},"Source (Dari P4)",-1)),d(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>a(s).source=n),type:"text",placeholder:"Optional source",class:"input w-full"},null,512),[[m,a(s).source]])]),e("label",M,[t[7]||(t[7]=e("div",{class:"text-sm font-medium"},[i("Jumlah Lembar Diterima (Quantity) "),e("span",{class:"text-red-500"},"*")],-1)),d(e("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>a(s).quantity=n),type:"number",min:"0",class:"input w-full"},null,512),[[m,a(s).quantity,void 0,{number:!0}]]),c.value.quantity?(_(),v("p",G,p(c.value.quantity),1)):N("",!0)]),e("label",H,[t[8]||(t[8]=e("div",{class:"text-sm font-medium"},"Sudah Packing / Crate (Packing)",-1)),d(e("input",{"onUpdate:modelValue":t[2]||(t[2]=n=>a(s).packing=n),type:"text",placeholder:"Optional",class:"input w-full"},null,512),[[m,a(s).packing]])]),e("label",I,[t[9]||(t[9]=e("div",{class:"text-sm font-medium"},"Keterangan (Notes)",-1)),d(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=n=>a(s).notes=n),placeholder:"Optional notes",class:"input h-28 w-full"},null,512),[[m,a(s).notes]])])]),e("div",X,[e("button",{class:"btn-secondary",onClick:t[4]||(t[4]=n=>a(y).get("/data-management/warehouses"))},"Cancel"),e("button",{class:"btn ml-2",disabled:r.value,onClick:C},"Create",8,Y)])])])]),o(O,{open:b.value,"onUpdate:open":t[5]||(t[5]=n=>b.value=n)},{default:l(()=>[o(P,null,{default:l(()=>[o(Q,null,{default:l(()=>[o(W,null,{default:l(()=>[...t[12]||(t[12]=[i("Confirm Create Warehouse Record",-1)])]),_:1}),o(j,null,{default:l(()=>[...t[13]||(t[13]=[i(" Are you sure you want to create this warehouse record? ",-1)])]),_:1})]),_:1}),e("div",Z,[e("div",tt,[e("div",null,[t[14]||(t[14]=e("span",{class:"font-medium"},"Source:",-1)),i(" "+p(a(s).source||"-"),1)]),e("div",null,[t[15]||(t[15]=e("span",{class:"font-medium"},"Quantity:",-1)),i(" "+p(a(s).quantity??"-"),1)]),e("div",null,[t[16]||(t[16]=e("span",{class:"font-medium"},"Packing:",-1)),i(" "+p(a(s).packing||"-"),1)])])]),e("div",et,[o(L,null,{default:l(()=>[...t[17]||(t[17]=[i("Cancel",-1)])]),_:1}),o(R,{onClick:q,disabled:r.value},{default:l(()=>[...t[18]||(t[18]=[i("Create",-1)])]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["open"]),o(B)]),_:1},8,["breadcrumbs"])],64))}});export{pt as default};
