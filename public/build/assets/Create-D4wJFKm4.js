import{d as q,v as $,g as b,c as v,m as n,u as a,p as h,w as l,a as e,z as d,L as m,b as V,q as i,o as g,t as p,B as _,F as S}from"./app-BRuhaguS.js";import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-BSta2Xg1.js";import{_ as N}from"./ToastNotifications.vue_vue_type_script_setup_true_lang-DCB_gM99.js";import{u as U}from"./useToast-Cyrz-AlH.js";import{_ as W,a as B,b as F,c as O,d as P,e as Q,f as j}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-BijpPN58.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DrUmFdxY.js";import"./Presence-CRPloLVK.js";import"./createLucideIcon-Bc86gjbu.js";import"./useForwardPropsEmits-CxMGla6T.js";import"./x-Dz_x2_zF.js";import"./VisuallyHidden-gDrgz296.js";import"./index-C4J_hXM0.js";const R={class:"p-4"},T={class:"rounded-xl border border-sidebar-border/70 p-6"},A={class:"mt-4"},E={class:"grid grid-cols-2 gap-4"},L={class:"block col-span-2"},M={class:"block"},z={key:0,class:"mt-1 text-xs text-red-500"},J={class:"block"},K={class:"block col-span-2"},G={class:"mt-4 flex justify-end"},H=["disabled"],I={class:"rounded-lg bg-muted/50 p-3"},X={class:"space-y-1 text-sm"},Y={class:"flex justify-end gap-2"},pt=q({__name:"Create",setup(Z){const y=[{title:"Data Management",href:"/data-management/production"},{title:"Warehouse",href:"/data-management/warehouses"},{title:"Create",href:"/data-management/warehouses/create"}],{success:x}=U(),s=$({source:"",quantity:0,packing:"",notes:"",is_active:!0}),f=b({}),u=b(!1),c=b(!1),w=()=>{const r={};return s.quantity===null||s.quantity===void 0?r.quantity="Quantity is required":s.quantity<0&&(r.quantity="Quantity must be 0 or greater"),f.value=r,Object.keys(r).length===0},k=()=>{w()&&(c.value=!0)},C=()=>{u.value=!0,s.post("/data-management/warehouses",{onSuccess:()=>{x("Warehouse created","New warehouse record has been saved"),_.get("/data-management/warehouses")},onFinish:()=>u.value=!1})};return(r,t)=>(g(),v(S,null,[n(a(h),{title:"Create Warehouse Record"}),n(D,{breadcrumbs:y},{default:l(()=>[e("div",R,[e("div",T,[t[10]||(t[10]=e("h2",{class:"text-lg font-semibold"},"Create Warehouse Record",-1)),t[11]||(t[11]=e("p",{class:"mt-2 text-sm text-muted-foreground"},"Add a new warehouse receipt from production.",-1)),e("div",A,[e("div",E,[e("label",L,[t[6]||(t[6]=e("div",{class:"text-sm font-medium"},"Source (Dari P4)",-1)),d(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>a(s).source=o),type:"text",placeholder:"Optional source",class:"input w-full"},null,512),[[m,a(s).source]])]),e("label",M,[t[7]||(t[7]=e("div",{class:"text-sm font-medium"},[i("Jumlah Lembar Diterima (Quantity) "),e("span",{class:"text-red-500"},"*")],-1)),d(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>a(s).quantity=o),type:"number",min:"0",class:"input w-full"},null,512),[[m,a(s).quantity,void 0,{number:!0}]]),f.value.quantity?(g(),v("p",z,p(f.value.quantity),1)):V("",!0)]),e("label",J,[t[8]||(t[8]=e("div",{class:"text-sm font-medium"},"Sudah Packing / Crate (Packing)",-1)),d(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>a(s).packing=o),type:"text",placeholder:"Optional",class:"input w-full"},null,512),[[m,a(s).packing]])]),e("label",K,[t[9]||(t[9]=e("div",{class:"text-sm font-medium"},"Keterangan (Notes)",-1)),d(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=o=>a(s).notes=o),placeholder:"Optional notes",class:"input h-28 w-full"},null,512),[[m,a(s).notes]])])]),e("div",G,[e("button",{class:"btn-secondary",onClick:t[4]||(t[4]=o=>a(_).get("/data-management/warehouses"))},"Cancel"),e("button",{class:"btn ml-2",disabled:u.value,onClick:k},"Create",8,H)])])])]),n(W,{open:c.value,"onUpdate:open":t[5]||(t[5]=o=>c.value=o)},{default:l(()=>[n(B,null,{default:l(()=>[n(F,null,{default:l(()=>[n(O,null,{default:l(()=>[...t[12]||(t[12]=[i("Confirm Create Warehouse Record",-1)])]),_:1}),n(P,null,{default:l(()=>[...t[13]||(t[13]=[i(" Are you sure you want to create this warehouse record? ",-1)])]),_:1})]),_:1}),e("div",I,[e("div",X,[e("div",null,[t[14]||(t[14]=e("span",{class:"font-medium"},"Source:",-1)),i(" "+p(a(s).source||"-"),1)]),e("div",null,[t[15]||(t[15]=e("span",{class:"font-medium"},"Quantity:",-1)),i(" "+p(a(s).quantity??"-"),1)]),e("div",null,[t[16]||(t[16]=e("span",{class:"font-medium"},"Packing:",-1)),i(" "+p(a(s).packing||"-"),1)])])]),e("div",Y,[n(Q,null,{default:l(()=>[...t[17]||(t[17]=[i("Cancel",-1)])]),_:1}),n(j,{onClick:C,disabled:u.value},{default:l(()=>[...t[18]||(t[18]=[i("Create",-1)])]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["open"]),n(N)]),_:1})],64))}});export{pt as default};
