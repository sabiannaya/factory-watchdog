import{d as y,K as M,r as G,p as C,m as b,k as f,a as t,u as a,l as V,t as r,E,c as i,b as S,H as p,o as n,n as $,F as h,h as v,I as x,M as D,s as N,q as T,J as B}from"./app-ue20rSb4.js";import{_ as U}from"./AppLayout.vue_vue_type_script_setup_true_lang-C_szTgFs.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-C7b_Quob.js";import"./index-Cl--hQqE.js";import"./VisuallyHidden-DjuZqZTT.js";import"./useForwardExpose-BCEiolqJ.js";import"./useForwardPropsEmits-BgPdB8_u.js";import"./index-C4J_hXM0.js";import"./createLucideIcon-COama0qN.js";const F={class:"p-4 space-y-4"},j={class:"text-muted-foreground dark:text-muted-foreground"},z={class:"rounded-lg border border-sidebar-border/70 dark:border-sidebar-border/70 bg-card dark:bg-card"},L={class:"p-4 border-b border-sidebar-border/40 flex items-start justify-between"},O={class:"text-lg font-semibold mb-1"},q={class:"text-sm text-muted-foreground dark:text-muted-foreground"},H={class:"text-sm text-muted-foreground dark:text-muted-foreground mt-2"},I={class:"p-6"},J={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},K={class:"font-semibold text-base"},A=["onUpdate:modelValue"],P={class:"text-xs text-muted-foreground dark:text-muted-foreground mt-1"},Q=["onUpdate:modelValue"],R={class:"flex items-center gap-3"},W=["disabled"],X={key:0,class:"rounded-lg bg-destructive/10 dark:bg-destructive/10 border border-destructive/20 dark:border-destructive/20 p-4"},Y={class:"text-sm text-destructive dark:text-destructive space-y-1"},it=y({__name:"Edit",props:{productionMachineGroup:{},fields:{},values:{},date:{}},setup(o){const _=[{title:"Data Management",href:"/data-management/production"},{title:"Targets",href:"/data-management/targets"},{title:"Edit",href:window.location.pathname}],l=o,d=M({date:l.date,values:l.values}),u=G(!0),k=()=>{d.put(`/data-management/targets/${l.productionMachineGroup.production_machine_group_id}`,{onSuccess:()=>{B.get(`/data-management/targets?production_id=${l.productionMachineGroup.production.production_id}&date=${l.date}`)}})};function w(g){return g.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}return(g,e)=>(n(),C(U,{breadcrumbs:_},{default:b(()=>[f(a(V),{title:"Edit Daily Targets"}),t("div",F,[t("div",null,[e[1]||(e[1]=t("h1",{class:"text-3xl font-bold"},"Edit Daily Targets",-1)),t("p",j,r(o.productionMachineGroup.production.production_name)+" • "+r(o.productionMachineGroup.name)+" • "+r(o.date),1)]),t("form",{onSubmit:E(k,["prevent"]),class:"space-y-6"},[t("div",z,[t("div",L,[t("div",null,[t("h2",O,r(o.productionMachineGroup.machineGroup.name),1),t("p",q,r(o.productionMachineGroup.machineGroup.description),1),t("p",H,r(o.productionMachineGroup.machine_count)+" machines ",1)]),t("div",null,[t("button",{type:"button",class:"btn btn-ghost",onClick:e[0]||(e[0]=s=>u.value=!u.value)},[(n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",class:$(["h-4 w-4 transition-transform",{"-rotate-90":!u.value}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...e[2]||(e[2]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])])]),p(t("div",I,[t("div",J,[(n(!0),i(h,null,v(a(d).values,(s,c)=>(n(),i("div",{key:c,class:"rounded-lg bg-muted/40 dark:bg-muted/40 p-4 space-y-3"},[t("h4",K,r(w(s.field_name)),1),t("div",null,[e[3]||(e[3]=t("label",{class:"block text-sm font-medium mb-1.5"},"Target Value",-1)),p(t("input",{"onUpdate:modelValue":m=>s.target_value=m,type:"number",placeholder:"Enter target",min:"0",class:"input w-full"},null,8,A),[[x,s.target_value,void 0,{number:!0}]]),t("p",P," Default: "+r(o.productionMachineGroup.default_targets[s.field_name]??"None"),1)]),t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium mb-1.5"},"Notes",-1)),p(t("textarea",{"onUpdate:modelValue":m=>s.keterangan=m,placeholder:"Optional notes",rows:"2",class:"input w-full resize-none"},null,8,Q),[[x,s.keterangan]])])]))),128))])],512),[[D,u.value]])]),t("div",R,[t("button",{type:"submit",disabled:a(d).processing,class:"btn cursor-pointer"},r(a(d).processing?"Saving...":"Save Changes"),9,W),f(a(N),{href:`/data-management/targets?production_id=${o.productionMachineGroup.production.production_id}&date=${o.date}`,class:"btn btn-ghost"},{default:b(()=>[...e[5]||(e[5]=[T(" Cancel ",-1)])]),_:1},8,["href"])]),Object.keys(a(d).errors).length>0?(n(),i("div",X,[e[6]||(e[6]=t("p",{class:"text-sm font-medium text-destructive dark:text-destructive mb-2"},"Errors:",-1)),t("ul",Y,[(n(!0),i(h,null,v(a(d).errors,(s,c)=>(n(),i("li",{key:c},"• "+r(s),1))),128))])])):S("",!0)],32)])]),_:1}))}});export{it as default};
