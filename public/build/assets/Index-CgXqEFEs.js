import{_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-C_szTgFs.js";import{d as P,r as f,e as w,w as M,J as n,c as _,k as c,u as i,l as N,m as T,a as e,p as V,b as E,o as d,F as x,h as q,t as m}from"./app-ue20rSb4.js";import{_ as h,P as B,T as A}from"./IconActionButton.vue_vue_type_script_setup_true_lang-BtxXR-6U.js";import{_ as I}from"./Input.vue_vue_type_script_setup_true_lang-DnYWP9Is.js";import{_ as j}from"./Spinner.vue_vue_type_script_setup_true_lang-CDXeXNMx.js";import{S as F}from"./search-CIEtGgaw.js";import{E as z}from"./eye-BucQiY86.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-C7b_Quob.js";import"./index-Cl--hQqE.js";import"./VisuallyHidden-DjuZqZTT.js";import"./useForwardExpose-BCEiolqJ.js";import"./useForwardPropsEmits-BgPdB8_u.js";import"./index-C4J_hXM0.js";import"./createLucideIcon-COama0qN.js";const J={class:"p-4"},L={class:"flex items-center justify-between"},U={class:"mt-4"},H={class:"relative"},K={class:"mt-4"},O={class:"overflow-x-auto"},Q={class:"w-full table-auto border-collapse"},R={class:"px-3 py-2 text-sm"},W={class:"px-3 py-2 text-sm"},X={class:"px-3 py-2 text-sm"},Y={class:"px-3 py-2 text-sm"},Z={class:"px-3 py-2 text-sm"},ee={class:"px-3 py-2 text-sm"},te={class:"px-3 py-2 text-sm"},ae={class:"flex items-center gap-4"},se={class:"mt-4 flex items-center justify-end gap-2"},oe=["disabled"],ne=["disabled"],be=P({__name:"Index",props:{machineGroups:{},meta:{}},setup(g){const v=[{title:"Data Management",href:"/data-management/production"},{title:"Machines",href:"/data-management/machine"}],r=f(!1),a=g,b=w(()=>a.machineGroups?.data??[]),l=f(a.meta?.q??"");let p;const y=()=>{const s=a.machineGroups?.next_cursor;if(!s)return;const o=a.meta?.per_page??10,t=a.meta?.sort??"name",u=a.meta?.direction??"asc";n.get(window.location.pathname,{cursor:s,q:l.value||null,per_page:o,sort:t,direction:u},{preserveState:!0,replace:!0})},k=s=>{n.get(`/data-management/machine/${s}`)},C=s=>{n.get(`/data-management/machine/${s}/edit`)},S=s=>{window.confirm("Are you sure you want to delete this machine group?")&&n.visit(`/data-management/machine/${s}`,{method:"delete",preserveState:!1})},$=()=>{const s=a.machineGroups?.prev_cursor;if(!s)return;const o=a.meta?.per_page??10,t=a.meta?.sort??"name",u=a.meta?.direction??"asc";n.get(window.location.pathname,{cursor:s,q:l.value||null,per_page:o,sort:t,direction:u},{preserveState:!0,replace:!0})},D=()=>{const s=a.meta?.per_page??10,o=a.meta?.sort??"name",t=a.meta?.direction??"asc";n.get(window.location.pathname,{q:l.value||null,per_page:s,sort:o,direction:t},{preserveState:!0,replace:!0})};return M(l,()=>{p&&clearTimeout(p),p=setTimeout(D,800)}),n.on("start",()=>r.value=!0),n.on("finish",()=>r.value=!1),(s,o)=>(d(),_(x,null,[c(i(N),{title:"Machine"}),c(G,{breadcrumbs:v},{default:T(()=>[e("div",J,[e("div",L,[o[2]||(o[2]=e("div",null,[e("h2",{class:"text-2xl font-semibold"},"Machine"),e("p",{class:"text-sm text-muted-foreground"},"Manage machine groups")],-1)),e("button",{class:"btn",onClick:o[0]||(o[0]=t=>i(n).get("/data-management/machine/create"))}," Create Machine Group ")]),e("div",U,[e("div",H,[c(i(F),{class:"absolute left-2 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),c(i(I),{modelValue:l.value,"onUpdate:modelValue":o[1]||(o[1]=t=>l.value=t),disabled:r.value,type:"search",placeholder:"Search machine groups...",class:"pl-8"},null,8,["modelValue","disabled"]),r.value?(d(),V(i(j),{key:0,class:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground"})):E("",!0)])]),e("div",K,[e("div",O,[e("table",Q,[o[3]||(o[3]=e("thead",null,[e("tr",{class:"text-left"},[e("th",{class:"px-3 py-2 text-sm font-medium"},"ID"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Name"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Total"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Active"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Inactive"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Created"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Actions")])],-1)),e("tbody",null,[(d(!0),_(x,null,q(b.value,t=>(d(),_("tr",{key:t.machine_group_id,class:"border-t"},[e("td",R,m(t.machine_group_id),1),e("td",W,m(t.name),1),e("td",X,m(t.total_machines??0),1),e("td",Y,m(t.active_machines??0),1),e("td",Z,m(t.inactive_machines??0),1),e("td",ee,m(t.created_at),1),e("td",te,[e("div",ae,[c(h,{icon:i(z),label:"Detail",color:"blue",onClick:()=>k(t.machine_group_id)},null,8,["icon","onClick"]),c(h,{icon:i(B),label:"Edit",color:"amber",onClick:()=>C(t.machine_group_id)},null,8,["icon","onClick"]),c(h,{icon:i(A),label:"Delete",color:"red",onClick:()=>S(t.machine_group_id)},null,8,["icon","onClick"])])])]))),128))])])]),e("div",se,[e("button",{class:"btn",disabled:!a.machineGroups?.prev_cursor||r.value,onClick:$},"Previous",8,oe),e("button",{class:"btn",disabled:!a.machineGroups?.next_cursor||r.value,onClick:y},"Next",8,ne)])])])]),_:1})],64))}});export{be as default};
