import{_ as W}from"./AppLayout.vue_vue_type_script_setup_true_lang-UWREGGXY.js";import{d as j,f as x,g,x as z,B as o,c as p,m as r,u as l,p as F,w as I,a as e,e as L,b as M,o as m,F as y,i as U,t as n}from"./app-i1_2c9TI.js";import{_ as h,P as Q}from"./IconActionButton.vue_vue_type_script_setup_true_lang-Cu3IcDcB.js";import{_ as R}from"./ToastNotifications.vue_vue_type_script_setup_true_lang-mcyszUyt.js";import{u as G}from"./useToast-C_zToptU.js";import{_ as H}from"./Input.vue_vue_type_script_setup_true_lang-mGQONf2a.js";import{_ as J}from"./Spinner.vue_vue_type_script_setup_true_lang-Ca7klY01.js";import{u as K}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B0bB4Y56.js";import{S as O}from"./search-BWjjXBCD.js";import{E as X}from"./eye-zQDYR7PF.js";import{T as Y}from"./trash-2-D_kG-H42.js";import"./VisuallyHidden-CgfYLdxu.js";import"./index-C4J_hXM0.js";import"./x-T-BkQ4N0.js";const Z={class:"p-4"},ee={class:"mt-4"},te={class:"relative"},se={class:"mt-4"},ae={class:"overflow-x-auto"},oe={class:"w-full table-auto border-collapse"},ne={class:"px-3 py-2 text-sm"},re={class:"px-3 py-2 text-sm"},ie={class:"px-3 py-2 text-sm"},le={class:"px-3 py-2 text-sm"},ce={class:"px-3 py-2 text-sm"},de={class:"px-3 py-2 text-sm"},me={class:"px-3 py-2 text-sm"},ue={class:"px-3 py-2 text-sm"},pe={class:"px-3 py-2 text-sm"},he={class:"px-3 py-2 text-sm"},_e={class:"flex items-center gap-4"},fe={class:"mt-4 flex items-center justify-end gap-2"},xe=["disabled"],ge=["disabled"],Ee=j({__name:"Index",props:{warehouses:{},meta:{}},setup(b){const{t:_}=K(),v=x(()=>[{title:_("data_management.data_management"),href:"/data-management/production"},{title:_("data_management.warehouse"),href:"/data-management/warehouses"}]),i=b,{success:k}=G(),C=x(()=>i.warehouses?.data??[]),c=g(!1),d=g(i.meta?.q??"");let u;const $=()=>o.get("/data-management/warehouses/create"),w=s=>o.get(`/data-management/warehouses/${s}`),S=s=>o.get(`/data-management/warehouses/${s}/edit`),P=(s,a)=>{window.confirm("Delete this warehouse record?")&&o.visit(`/data-management/warehouses/${s}`,{method:"delete",onSuccess:()=>{k("Warehouse deleted",`${a} has been deleted successfully`)}})},B=()=>{const s=i.warehouses?.links?.prev;s&&o.get(s)},D=()=>{const s=i.warehouses?.links?.next;s&&o.get(s)},N=()=>{const s=i.meta?.per_page??15;o.get("/data-management/warehouses",{q:d.value||null,per_page:s},{preserveState:!0,replace:!0})};z(d,()=>{u&&clearTimeout(u),u=setTimeout(N,800)}),o.on("start",()=>c.value=!0),o.on("finish",()=>c.value=!1);const f=s=>{if(!s)return"-";const[a,t]=s.split(" ");if(!a)return s;const[T,V,E]=a.split("-"),[A="00",q="00"]=(t??"").split(":");return`${E}/${V}/${T} ${A}:${q}`};return(s,a)=>(m(),p(y,null,[r(l(F),{title:"Warehouse"}),r(W,{breadcrumbs:v.value},{default:I(()=>[e("div",Z,[e("div",{class:"flex items-center justify-between"},[a[1]||(a[1]=e("div",null,[e("h2",{class:"text-2xl font-semibold"},"Warehouse"),e("p",{class:"text-sm text-muted-foreground"},"Manage warehouse receipts from production.")],-1)),e("button",{class:"hover:cursor-pointer btn",onClick:$},"Add Record")]),e("div",ee,[e("div",te,[r(l(O),{class:"absolute left-2 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),r(l(H),{modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=t=>d.value=t),disabled:c.value,type:"search",placeholder:"Search warehouses...",class:"pl-8"},null,8,["modelValue","disabled"]),c.value?(m(),L(l(J),{key:0,class:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground"})):M("",!0)])]),e("div",se,[e("div",ae,[e("table",oe,[a[2]||(a[2]=e("thead",null,[e("tr",{class:"text-left"},[e("th",{class:"px-3 py-2 text-sm font-medium"},"ID"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Source"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Quantity"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Packing"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Notes"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Created At"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Created By"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Updated At"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Modified By"),e("th",{class:"px-3 py-2 text-sm font-medium"},"Actions")])],-1)),e("tbody",null,[(m(!0),p(y,null,U(C.value,t=>(m(),p("tr",{key:t.id,class:"border-t"},[e("td",ne,n(t.id),1),e("td",re,n(t.source??"-"),1),e("td",ie,n(t.quantity??"-"),1),e("td",le,n(t.packing??"-"),1),e("td",ce,n(t.notes??"-"),1),e("td",de,n(f(t.created_at)),1),e("td",me,n(t.created_by??"-"),1),e("td",ue,n(f(t.updated_at)),1),e("td",pe,n(t.modified_by??"-"),1),e("td",he,[e("div",_e,[r(h,{icon:l(X),label:"Show",color:"blue",onClick:()=>w(t.id)},null,8,["icon","onClick"]),r(h,{icon:l(Q),label:"Edit",color:"amber",onClick:()=>S(t.id)},null,8,["icon","onClick"]),r(h,{icon:l(Y),label:"Delete",color:"red",onClick:()=>P(t.id,String(t.source??t.id))},null,8,["icon","onClick"])])])]))),128))])])]),e("div",fe,[e("button",{class:"hover:cursor-pointer btn",disabled:!i.warehouses?.links?.prev||c.value,onClick:B},"Previous",8,xe),e("button",{class:"hover:cursor-pointer btn",disabled:!i.warehouses?.links?.next||c.value,onClick:D},"Next",8,ge)])])]),r(R)]),_:1},8,["breadcrumbs"])],64))}});export{Ee as default};
