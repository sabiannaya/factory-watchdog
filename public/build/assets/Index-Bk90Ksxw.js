import{_ as P}from"./AppLayout.vue_vue_type_script_setup_true_lang-UWREGGXY.js";import{d as q,f,g,x as D,B as c,c as _,m as d,u as e,p as N,w as j,a as t,t as s,e as z,b as F,o as u,F as x,i as I}from"./app-i1_2c9TI.js";import{u as L}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B0bB4Y56.js";import{_ as h,P as U}from"./IconActionButton.vue_vue_type_script_setup_true_lang-Cu3IcDcB.js";import{_ as w}from"./ToastNotifications.vue_vue_type_script_setup_true_lang-mcyszUyt.js";import{u as A}from"./useToast-C_zToptU.js";import{_ as G}from"./Input.vue_vue_type_script_setup_true_lang-mGQONf2a.js";import{_ as H}from"./Spinner.vue_vue_type_script_setup_true_lang-Ca7klY01.js";import{S as J}from"./search-BWjjXBCD.js";import{E as K}from"./eye-zQDYR7PF.js";import{T as M}from"./trash-2-D_kG-H42.js";import"./VisuallyHidden-CgfYLdxu.js";import"./index-C4J_hXM0.js";import"./x-T-BkQ4N0.js";const O={class:"p-4"},Q={class:"flex items-center justify-between"},R={class:"text-2xl font-semibold"},W={class:"text-sm text-muted-foreground"},X={class:"mt-4"},Y={class:"relative"},Z={class:"mt-4"},tt={class:"overflow-x-auto"},et={class:"w-full table-auto border-collapse"},st={class:"text-left"},at={class:"px-3 py-2 text-sm font-medium"},ot={class:"px-3 py-2 text-sm font-medium"},nt={class:"px-3 py-2 text-sm font-medium"},ct={class:"px-3 py-2 text-sm font-medium"},dt={class:"px-3 py-2 text-sm font-medium"},lt={class:"px-3 py-2 text-sm font-medium"},mt={class:"px-3 py-2 text-sm"},rt={class:"px-3 py-2 text-sm"},it={class:"px-3 py-2 text-sm"},ut={class:"px-3 py-2 text-sm"},pt={class:"px-3 py-2 text-sm"},_t={class:"px-3 py-2 text-sm"},ht={class:"px-3 py-2 text-sm"},ft={class:"flex items-center gap-4"},gt={class:"mt-4 flex items-center justify-end gap-2"},xt=["disabled"],bt=["disabled"],jt=q({__name:"Index",props:{products:{},meta:{}},setup(b){const l=b,{t:a}=L(),v=f(()=>[{title:a("data_management.data_management"),href:"/data-management/production"},{title:a("data_management.products"),href:"/data-management/products"}]),{success:y}=A(),k=f(()=>l.products?.data??[]),m=g(!1),i=g(l.meta?.q??"");let p;const C=()=>{const o=l.meta?.per_page??15;c.get("/data-management/products",{q:i.value||null,per_page:o},{preserveState:!0,replace:!0})};D(i,()=>{p&&clearTimeout(p),p=setTimeout(C,800)});const S=()=>c.get("/data-management/products/create"),$=o=>c.get(`/data-management/products/${o}`),T=o=>c.get(`/data-management/products/${o}/edit`),V=(o,r)=>{window.confirm(a("data_management.confirm_delete_product"))&&c.visit(`/data-management/products/${o}`,{method:"delete",onSuccess:()=>{y("Product deleted",`${r} has been deleted successfully`)}})},B=()=>{const o=l.products?.links?.prev;o&&c.get(o)},E=()=>{const o=l.products?.links?.next;o&&c.get(o)};return c.on("start",()=>m.value=!0),c.on("finish",()=>m.value=!1),(o,r)=>(u(),_(x,null,[d(e(N),{title:e(a)("data_management.products")},null,8,["title"]),d(P,{breadcrumbs:v.value},{default:j(()=>[t("div",O,[t("div",Q,[t("div",null,[t("h2",R,s(e(a)("data_management.products")),1),t("p",W,s(e(a)("data_management.products_description")),1)]),t("button",{class:"hover:cursor-pointer btn",onClick:S},s(e(a)("data_management.add_product")),1)]),t("div",X,[t("div",Y,[d(e(J),{class:"absolute left-2 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),d(e(G),{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=n=>i.value=n),disabled:m.value,type:"search",placeholder:e(a)("data_management.search_placeholder"),class:"pl-8"},null,8,["modelValue","disabled","placeholder"]),m.value?(u(),z(e(H),{key:0,class:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground"})):F("",!0)])]),t("div",Z,[t("div",tt,[t("table",et,[t("thead",null,[t("tr",st,[r[1]||(r[1]=t("th",{class:"px-3 py-2 text-sm font-medium"},"ID",-1)),t("th",at,s(e(a)("data_management.name")),1),t("th",ot,s(e(a)("data_management.thickness")),1),t("th",nt,s(e(a)("data_management.ply")),1),t("th",ct,s(e(a)("data_management.glue")),1),t("th",dt,s(e(a)("data_management.qty")),1),t("th",lt,s(e(a)("data_management.actions")),1)])]),t("tbody",null,[(u(!0),_(x,null,I(k.value,n=>(u(),_("tr",{key:n.id,class:"border-t"},[t("td",mt,s(n.id),1),t("td",rt,s(n.name),1),t("td",it,s(n.thickness),1),t("td",ut,s(n.ply),1),t("td",pt,s(n.glue_type),1),t("td",_t,s(n.qty),1),t("td",ht,[t("div",ft,[d(h,{icon:e(K),label:"Show",color:"blue",onClick:()=>$(n.id)},null,8,["icon","onClick"]),d(h,{icon:e(U),label:"Edit",color:"amber",onClick:()=>T(n.id)},null,8,["icon","onClick"]),d(h,{icon:e(M),label:"Delete",color:"red",onClick:()=>V(n.id,n.name)},null,8,["icon","onClick"])])])]))),128))])])]),t("div",gt,[t("button",{class:"hover:cursor-pointer btn",disabled:!l.products?.links?.prev||m.value,onClick:B},s(e(a)("data_management.previous")),9,xt),t("button",{class:"hover:cursor-pointer btn",disabled:!l.products?.links?.next||m.value,onClick:E},s(e(a)("data_management.next")),9,bt)])])]),d(w)]),_:1},8,["breadcrumbs"])],64))}});export{jt as default};
