import{d as V,g as b,f as P,c as r,m as o,u as T,p as $,w as i,a as t,z as m,b as c,q as a,n as f,L as p,o as v,t as u,F as h,B as N}from"./app-D4NX6RtZ.js";import{_ as U}from"./AppLayout.vue_vue_type_script_setup_true_lang-CNNNqqjX.js";import{_ as w,a as j,b as B,c as D,d as S,e as A,f as E}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-DhxcoGzi.js";import{_ as F}from"./ToastNotifications.vue_vue_type_script_setup_true_lang-BMk0SZx-.js";import{u as G}from"./useToast-aH6RW4y0.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BzC2dvNG.js";import"./Presence-CsGVf8pY.js";import"./createLucideIcon-A0T1vukc.js";import"./useForwardPropsEmits-BmzqlngZ.js";import"./x-XD7JAbQb.js";import"./VisuallyHidden-BeURpiPp.js";import"./index-C4J_hXM0.js";const O={class:"p-4"},Q={class:"rounded-xl border border-sidebar-border/70 p-6"},z={class:"mt-4"},M={class:"grid grid-cols-2 gap-4"},L={class:"block"},H={key:0,class:"mt-1 text-xs text-red-500"},I={class:"block"},J={key:0,class:"mt-1 text-xs text-red-500"},K={class:"block"},R={key:0,class:"mt-1 text-xs text-red-500"},W={class:"block"},X={key:0,class:"mt-1 text-xs text-red-500"},Y={class:"block"},Z={key:0,class:"mt-1 text-xs text-red-500"},ee={class:"block col-span-2"},te={class:"mt-4 flex justify-end"},se=["disabled"],le={class:"rounded-lg bg-muted/50 p-3"},ae={class:"space-y-1 text-sm"},ne={class:"flex justify-end gap-2"},_e=V({__name:"Create",setup(oe){const _=[{title:"Data Management",href:"/data-management/production"},{title:"Products",href:"/data-management/products"},{title:"Create",href:"/data-management/products/create"}],{success:g}=G(),s=b({name:"",thickness:"",ply:"",glue_type:"",qty:0,notes:""}),l=b({}),y=b(!1),x=b(!1),k=()=>{l.value={};const d={};return s.value.name?.trim()||(d.name="Name is required"),s.value.thickness?.trim()||(d.thickness="Thickness is required"),s.value.ply?.trim()||(d.ply="Ply is required"),s.value.glue_type?.trim()||(d.glue_type="Glue Type is required"),(!s.value.qty||s.value.qty<0)&&(d.qty="Qty must be a valid number"),l.value=d,Object.keys(d).length===0};P(()=>Object.keys(l.value).length>0);const C=()=>{k()&&(x.value=!0)},q=()=>{y.value=!0,N.post("/data-management/products",s.value,{onSuccess:()=>{g("Product created",`${s.value.name} has been created successfully`)},onFinish:()=>y.value=!1})};return(d,e)=>(v(),r(h,null,[o(T($),{title:"Create Product"}),o(U,{breadcrumbs:_},{default:i(()=>[t("div",O,[t("div",Q,[e[13]||(e[13]=t("h2",{class:"text-lg font-semibold"},"Create Product",-1)),e[14]||(e[14]=t("p",{class:"mt-2 text-sm text-muted-foreground"},"Add a new product setting used in production.",-1)),t("div",z,[t("div",M,[t("label",L,[e[7]||(e[7]=t("div",{class:"text-sm font-medium"},[a("Name "),t("span",{class:"text-red-500"},"*")],-1)),m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>s.value.name=n),type:"text",placeholder:"Enter product name",class:f(["input",{"border-red-500":l.value.name}])},null,2),[[p,s.value.name]]),l.value.name?(v(),r("p",H,u(l.value.name),1)):c("",!0)]),t("label",I,[e[8]||(e[8]=t("div",{class:"text-sm font-medium"},[a("Thickness "),t("span",{class:"text-red-500"},"*")],-1)),m(t("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>s.value.thickness=n),type:"text",placeholder:"e.g., 3mm",class:f(["input",{"border-red-500":l.value.thickness}])},null,2),[[p,s.value.thickness]]),l.value.thickness?(v(),r("p",J,u(l.value.thickness),1)):c("",!0)]),t("label",K,[e[9]||(e[9]=t("div",{class:"text-sm font-medium"},[a("Ply "),t("span",{class:"text-red-500"},"*")],-1)),m(t("input",{"onUpdate:modelValue":e[2]||(e[2]=n=>s.value.ply=n),type:"text",placeholder:"e.g., 2",class:f(["input",{"border-red-500":l.value.ply}])},null,2),[[p,s.value.ply]]),l.value.ply?(v(),r("p",R,u(l.value.ply),1)):c("",!0)]),t("label",W,[e[10]||(e[10]=t("div",{class:"text-sm font-medium"},[a("Glue Type "),t("span",{class:"text-red-500"},"*")],-1)),m(t("input",{"onUpdate:modelValue":e[3]||(e[3]=n=>s.value.glue_type=n),type:"text",placeholder:"e.g., PVA, PU",class:f(["input",{"border-red-500":l.value.glue_type}])},null,2),[[p,s.value.glue_type]]),l.value.glue_type?(v(),r("p",X,u(l.value.glue_type),1)):c("",!0)]),t("label",Y,[e[11]||(e[11]=t("div",{class:"text-sm font-medium"},[a("Qty "),t("span",{class:"text-red-500"},"*")],-1)),m(t("input",{"onUpdate:modelValue":e[4]||(e[4]=n=>s.value.qty=n),type:"number",placeholder:"0",class:f(["input",{"border-red-500":l.value.qty}])},null,2),[[p,s.value.qty,void 0,{number:!0}]]),l.value.qty?(v(),r("p",Z,u(l.value.qty),1)):c("",!0)]),t("label",ee,[e[12]||(e[12]=t("div",{class:"text-sm font-medium"},"Notes",-1)),m(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=n=>s.value.notes=n),placeholder:"Optional notes about this product",class:"input"},null,512),[[p,s.value.notes]])])]),t("div",te,[t("button",{class:"hover:cursor-pointer btn",disabled:y.value,onClick:C},"Create",8,se)])])])]),o(w,{open:x.value,"onUpdate:open":e[6]||(e[6]=n=>x.value=n)},{default:i(()=>[o(j,null,{default:i(()=>[o(B,null,{default:i(()=>[o(D,null,{default:i(()=>[...e[15]||(e[15]=[a("Confirm Create Product",-1)])]),_:1}),o(S,null,{default:i(()=>[...e[16]||(e[16]=[a(" Are you sure you want to create this product? This action can be undone by deleting it later. ",-1)])]),_:1})]),_:1}),t("div",le,[t("div",ae,[t("div",null,[e[17]||(e[17]=t("span",{class:"font-medium"},"Name:",-1)),a(" "+u(s.value.name),1)]),t("div",null,[e[18]||(e[18]=t("span",{class:"font-medium"},"Thickness:",-1)),a(" "+u(s.value.thickness),1)]),t("div",null,[e[19]||(e[19]=t("span",{class:"font-medium"},"Ply:",-1)),a(" "+u(s.value.ply),1)]),t("div",null,[e[20]||(e[20]=t("span",{class:"font-medium"},"Glue Type:",-1)),a(" "+u(s.value.glue_type),1)]),t("div",null,[e[21]||(e[21]=t("span",{class:"font-medium"},"Qty:",-1)),a(" "+u(s.value.qty),1)])])]),t("div",ne,[o(A,null,{default:i(()=>[...e[22]||(e[22]=[a("Cancel",-1)])]),_:1}),o(E,{onClick:q,disabled:y.value},{default:i(()=>[...e[23]||(e[23]=[a("Create",-1)])]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["open"]),o(F)]),_:1})],64))}});export{_e as default};
