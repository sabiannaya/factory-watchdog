import{d as V,K as U,e as h,c as r,k as f,u as s,l as C,m as S,a as t,t as d,E as j,H as i,b as m,q as p,I as a,o as n,F as b,h as g,L as v,J as x}from"./app-ue20rSb4.js";import{_ as E}from"./AppLayout.vue_vue_type_script_setup_true_lang-C_szTgFs.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-C7b_Quob.js";import"./index-Cl--hQqE.js";import"./VisuallyHidden-DjuZqZTT.js";import"./useForwardExpose-BCEiolqJ.js";import"./useForwardPropsEmits-BgPdB8_u.js";import"./index-C4J_hXM0.js";import"./createLucideIcon-COama0qN.js";const N={class:"p-4 space-y-6"},D={class:"text-muted-foreground"},H={class:"rounded-lg border border-sidebar-border/70 bg-card p-6"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},$={key:0,class:"text-red-500 text-sm mt-1"},B=["value"],F={key:0,class:"text-red-500 text-sm mt-1"},M={class:"rounded-lg border border-sidebar-border/70 bg-card p-6"},G={class:"text-sm text-muted-foreground mb-4"},K={key:0,class:"space-y-4"},L={key:0,class:"text-red-500 text-sm mt-1"},O={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},z={key:0,class:"text-red-500 text-sm mt-1"},A={key:0,class:"text-red-500 text-sm mt-1"},J={key:2,class:"space-y-4"},P={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},R={class:"block text-sm font-medium mb-2"},T=["onUpdate:modelValue"],W={key:3,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},X=["value"],Y={class:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4"},Z={key:0},tt={class:"flex items-center gap-3"},et=["disabled"],mt=V({__name:"Edit",props:{hourlyInput:{},inputConfig:{},fields:{}},setup(c){const u=c,k=[{title:"Input",href:"/input"},{title:"Edit",href:window.location.pathname}],l=U({date:u.hourlyInput.date,hour:u.hourlyInput.hour,qty:u.hourlyInput.qty,qty_normal:u.hourlyInput.qty_normal,qty_reject:u.hourlyInput.qty_reject,grades:u.hourlyInput.grades??{},grade:u.hourlyInput.grade,ukuran:u.hourlyInput.ukuran,keterangan:u.hourlyInput.keterangan}),_=Array.from({length:24},(I,e)=>({value:e,label:`${e.toString().padStart(2,"0")}:00`})),y=h(()=>u.inputConfig?.type??"qty_only"),q=()=>{l.put(`/input/${u.hourlyInput.hourly_log_id}`,{onSuccess:()=>{x.get("/input",{date:l.date})}})};return(I,e)=>(n(),r(b,null,[f(s(C),{title:"Edit Hourly Input"}),f(E,{breadcrumbs:k},{default:S(()=>[t("div",N,[t("div",null,[e[10]||(e[10]=t("h1",{class:"text-2xl font-bold"},"Edit Hourly Input",-1)),t("p",D,d(u.hourlyInput.production_name)+" â€¢ "+d(u.hourlyInput.machine_group),1)]),t("form",{onSubmit:j(q,["prevent"]),class:"space-y-6"},[t("div",H,[e[13]||(e[13]=t("h2",{class:"text-lg font-semibold mb-4"},"Date & Time",-1)),t("div",Q,[t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium mb-2"},[p("Date "),t("span",{class:"text-red-500"},"*")],-1)),i(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s(l).date=o),type:"date",class:"input w-full",required:""},null,512),[[a,s(l).date]]),s(l).errors.date?(n(),r("p",$,d(s(l).errors.date),1)):m("",!0)]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium mb-2"},[p("Hour "),t("span",{class:"text-red-500"},"*")],-1)),i(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>s(l).hour=o),class:"input w-full",required:""},[(n(!0),r(b,null,g(s(_),o=>(n(),r("option",{key:o.value,value:o.value},d(o.label),9,B))),128))],512),[[v,s(l).hour,void 0,{number:!0}]]),s(l).errors.hour?(n(),r("p",F,d(s(l).errors.hour),1)):m("",!0)])])]),t("div",M,[e[23]||(e[23]=t("h2",{class:"text-lg font-semibold mb-4"},"Production Output",-1)),t("p",G,[e[14]||(e[14]=p(" Input type: ",-1)),t("strong",null,d(y.value),1)]),y.value==="qty_only"?(n(),r("div",K,[t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium mb-2"},[p("Quantity "),t("span",{class:"text-red-500"},"*")],-1)),i(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>s(l).qty=o),type:"number",min:"0",class:"input w-full max-w-xs",required:""},null,512),[[a,s(l).qty,void 0,{number:!0}]]),s(l).errors.qty?(n(),r("p",L,d(s(l).errors.qty),1)):m("",!0)])])):y.value==="normal_reject"?(n(),r("div",O,[t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium mb-2"},[p("Normal Quantity "),t("span",{class:"text-red-500"},"*")],-1)),i(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>s(l).qty_normal=o),type:"number",min:"0",class:"input w-full",required:""},null,512),[[a,s(l).qty_normal,void 0,{number:!0}]]),s(l).errors.qty_normal?(n(),r("p",z,d(s(l).errors.qty_normal),1)):m("",!0)]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium mb-2"},"Reject Quantity",-1)),i(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>s(l).qty_reject=o),type:"number",min:"0",class:"input w-full"},null,512),[[a,s(l).qty_reject,void 0,{number:!0}]]),s(l).errors.qty_reject?(n(),r("p",A,d(s(l).errors.qty_reject),1)):m("",!0)])])):y.value==="grades"&&u.inputConfig?.grade_types?(n(),r("div",J,[t("div",P,[(n(!0),r(b,null,g(u.inputConfig.grade_types,o=>(n(),r("div",{key:o},[t("label",R,d(o),1),i(t("input",{"onUpdate:modelValue":w=>s(l).grades[o]=w,type:"number",min:"0",class:"input w-full"},null,8,T),[[a,s(l).grades[o],void 0,{number:!0}]])]))),128))])])):y.value==="grade_qty"?(n(),r("div",W,[t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium mb-2"},[p("Grade "),t("span",{class:"text-red-500"},"*")],-1)),i(t("select",{"onUpdate:modelValue":e[5]||(e[5]=o=>s(l).grade=o),class:"input w-full",required:""},[e[18]||(e[18]=t("option",{value:null},"-- Select Grade --",-1)),(n(!0),r(b,null,g(u.inputConfig?.grade_types,o=>(n(),r("option",{key:o,value:o},d(o),9,X))),128))],512),[[v,s(l).grade]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium mb-2"},[p("Quantity "),t("span",{class:"text-red-500"},"*")],-1)),i(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>s(l).qty=o),type:"number",min:"0",class:"input w-full",required:""},null,512),[[a,s(l).qty,void 0,{number:!0}]])])])):m("",!0),t("div",Y,[c.fields.includes("ukuran")?(n(),r("div",Z,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium mb-2"},"Ukuran (Size)",-1)),i(t("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>s(l).ukuran=o),type:"text",class:"input w-full",placeholder:"e.g., 122x244"},null,512),[[a,s(l).ukuran]])])):m("",!0),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium mb-2"},"Notes (Keterangan)",-1)),i(t("textarea",{"onUpdate:modelValue":e[8]||(e[8]=o=>s(l).keterangan=o),class:"input w-full",rows:"2",placeholder:"Optional notes..."},null,512),[[a,s(l).keterangan]])])])]),t("div",tt,[t("button",{type:"submit",class:"btn",disabled:s(l).processing},d(s(l).processing?"Saving...":"Update Input"),9,et),t("button",{type:"button",class:"btn btn-ghost",onClick:e[9]||(e[9]=o=>s(x).get("/input"))}," Cancel ")])],32)])]),_:1})],64))}});export{mt as default};
